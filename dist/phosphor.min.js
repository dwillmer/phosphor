"use strict";var phosphor;!function(t){var e;!function(t){var e;!function(t){function e(t,e,i,n){void 0===i&&(i=0),void 0===n&&(n=!1);var r=t.length;if(0===r)return-1;if(i=0|i,0>i&&(i+=r,0>i&&(i=0)),n)for(var o=0;r>o;++o){var s=(o+i)%r;if(t[s]===e)return s}else for(var o=i;r>o;++o)if(t[o]===e)return o;return-1}function i(t,e,i,n){void 0===i&&(i=-1),void 0===n&&(n=!1);var r=t.length;if(0===r)return-1;if(i=0|i,0>i?i+=r:i>=r&&(i=r-1),n)for(var o=r;o>0;--o){var s=((o+i)%r+r)%r;if(t[s]===e)return s}else for(var o=i;o>=0;--o)if(t[o]===e)return o;return-1}function n(t,e,i,n){void 0===i&&(i=0),void 0===n&&(n=!1);var r=t.length;if(0===r)return-1;if(i=0|i,0>i&&(i+=r,0>i&&(i=0)),n)for(var o=0;r>o;++o){var s=(o+i)%r;if(e(t[s],s))return s}else for(var o=i;r>o;++o)if(e(t[o],o))return o;return-1}function r(t,e,i,n){void 0===i&&(i=-1),void 0===n&&(n=!1);var r=t.length;if(0===r)return-1;if(i=0|i,0>i?i+=r:i>=r&&(i=r-1),n)for(var o=r;o>0;--o){var s=((o+i)%r+r)%r;if(e(t[s],s))return s}else for(var o=i;o>=0;--o)if(e(t[o],o))return o;return-1}function o(t,e,i,r){var o=n(t,e,i,r);return-1!==o?t[o]:void 0}function s(t,e,i,n){var o=r(t,e,i,n);return-1!==o?t[o]:void 0}function a(t,e,i){for(var n,r,o=0,s=t.length;s>0;)n=s>>1,r=o+n,i(t[r],e)<0?(o=r+1,s-=n+1):s=n;return o}function h(t,e,i){for(var n,r,o=0,s=t.length;s>0;)n=s>>1,r=o+n,i(t[r],e)>0?s=n:(o=r+1,s-=n+1);return o}function c(t,e,i){var n=a(t,e,i);return n===t.length?-1:0===i(t[n],e)?n:-1}function u(t,e,i){var n=h(t,e,i);return 0===n?-1:0===i(t[n-1],e)?n-1:-1}function p(t,e,i){var n=c(t,e,i);return-1!==n?t[n]:void 0}function d(t,e,i){var n=u(t,e,i);return-1!==n?t[n]:void 0}function l(t){for(var e=t.length,i=new Array(e),n=0;e>n;++n)i[n]=t[n];return i}function f(t,e,i){e=0|e;var n=t.length;0>e?(e+=n,0>e&&(e=0)):e>n&&(e=n);for(var r=n;r>e;--r)t[r]=t[r-1];return t[e]=i,e}function _(t,e,i){e=0|e;var n=t.length;if(0>e&&(e+=n),0>e||e>=n)return-1;if(i=0|i,0>i?(i+=n,0>i&&(i=0)):i>=n&&(i=n-1),e===i)return i;var r=t[e];if(e>i)for(var o=e;o>i;--o)t[o]=t[o-1];else for(var o=e;i>o;++o)t[o]=t[o+1];return t[i]=r,i}function v(t,e){e=0|e;var i=t.length;if(0>e&&(e+=i),0>e||e>=i)return void 0;for(var n=t[e],r=e+1;i>r;++r)t[r-1]=t[r];return t.pop(),n}function m(t,i){var n=e(t,i);return-1!==n&&v(t,n),n}t.indexOf=e,t.lastIndexOf=i,t.findIndex=n,t.findLastIndex=r,t.find=o,t.findLast=s,t.lowerBound=a,t.upperBound=h,t.binaryFindIndex=c,t.binaryFindLastIndex=u,t.binaryFind=p,t.binaryFindLast=d,t.copy=l,t.insert=f,t.move=_,t.removeAt=v,t.remove=m}(e=t.algorithm||(t.algorithm={}))}(e=t.collections||(t.collections={}))}(phosphor||(phosphor={}));var phosphor;!function(t){var e;!function(t){var e=function(){function t(t,e){var i=this;this._size=0,this._offset=0,this._array=new Array(Math.max(1,t)),e&&e.forEach(function(t){i.pushBack(t)})}return Object.defineProperty(t.prototype,"maxSize",{get:function(){return this._array.length},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this._size},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"front",{get:function(){return 0!==this._size?this._get(0):void 0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"back",{get:function(){return 0!==this._size?this._get(this._size-1):void 0},enumerable:!0,configurable:!0}),t.prototype.get=function(t){return 0>t||t>=this._size?void 0:this._get(t)},t.prototype.set=function(t,e){return 0>t||t>=this._size?!1:(this._set(t,e),!0)},t.prototype.pushBack=function(t){this._set(this._size,t),this._size===this._array.length?this._incr():this._size++},t.prototype.pushFront=function(t){this._decr(),this._set(0,t),this._size<this._array.length&&this._size++},t.prototype.popBack=function(){return 0===this._size?void 0:this._rem(--this._size)},t.prototype.popFront=function(){if(0===this._size)return void 0;var t=this._rem(0);return this._incr(),this._size--,t},t.prototype.clear=function(){for(var t=0,e=this._size;e>t;++t)this._set(t,void 0);this._size=0,this._offset=0},t.prototype.toArray=function(){for(var t=new Array(this._size),e=0,i=this._size;i>e;++e)t[e]=this._get(e);return t},t.prototype.some=function(t){for(var e=0;e<this._size;++e)if(t(this._get(e),e))return!0;return!1},t.prototype.every=function(t){for(var e=0;e<this._size;++e)if(!t(this._get(e),e))return!1;return!0},t.prototype.filter=function(t){for(var e,i=0;i<this._size;++i){var n=this._get(i);t(n,i)&&e.push(n)}return e},t.prototype.map=function(t){for(var e=new Array(this._size),i=0;i<this._size;++i)e[i]=t(this._get(i),i);return e},t.prototype.forEach=function(t){for(var e=0;e<this._size;++e){var i=t(this._get(e),e);if(void 0!==i)return i}return void 0},t.prototype._get=function(t){return this._array[(t+this._offset)%this._array.length]},t.prototype._set=function(t,e){this._array[(t+this._offset)%this._array.length]=e},t.prototype._rem=function(t){var e=(t+this._offset)%this._array.length,i=this._array[e];return this._array[e]=void 0,i},t.prototype._incr=function(){this._offset===this._array.length-1?this._offset=0:this._offset++},t.prototype._decr=function(){0===this._offset?this._offset=this._array.length-1:this._offset--},t}();t.CircularBuffer=e}(e=t.collections||(t.collections={}))}(phosphor||(phosphor={}));var phosphor;!function(t){var e;!function(t){var e=function(){function t(t){var e=this;this._size=0,this._front=null,this._back=null,t&&t.forEach(function(t){e.pushBack(t)})}return Object.defineProperty(t.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this._size},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"front",{get:function(){return null!==this._front?this._front.value:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"back",{get:function(){return null!==this._back?this._back.value:void 0},enumerable:!0,configurable:!0}),t.prototype.pushBack=function(t){var e={next:null,value:t};null===this._back?(this._front=e,this._back=e):(this._back.next=e,this._back=e),this._size++},t.prototype.popFront=function(){var t=this._front;return null===t?void 0:(null===t.next?(this._front=null,this._back=null):this._front=t.next,this._size--,t.value)},t.prototype.clear=function(){this._size=0,this._front=null,this._back=null},t.prototype.toArray=function(){for(var t=new Array(this._size),e=0,i=this._front;null!==i;i=i.next,++e)t[e]=i.value;return t},t.prototype.some=function(t){for(var e=0,i=this._front;null!==i;i=i.next,++e)if(t(i.value,e))return!0;return!1},t.prototype.every=function(t){for(var e=0,i=this._front;null!==i;i=i.next,++e)if(!t(i.value,e))return!1;return!0},t.prototype.filter=function(t){for(var e,i=0,n=this._front;null!==n;n=n.next,++i){var r=n.value;t(r,i)&&e.push(r)}return e},t.prototype.map=function(t){for(var e=new Array(this._size),i=0,n=this._front;null!==n;n=n.next,++i)e[i]=t(n.value,i);return e},t.prototype.forEach=function(t){for(var e=0,i=this._front;null!==i;i=i.next,++e){var n=t(i.value,e);if(void 0!==n)return n}return void 0},t}();t.Queue=e}(e=t.collections||(t.collections={}))}(phosphor||(phosphor={}));var phosphor;!function(t){var e;!function(t){function e(t){var e=i,n=window.getComputedStyle(t),r=parseInt(n.minWidth,10)||e._mw,o=parseInt(n.minHeight,10)||e._mh,s=parseInt(n.maxWidth,10)||e._xw,a=parseInt(n.maxHeight,10)||e._xh,h=parseInt(n.borderTopWidth,10)||e._bt,c=parseInt(n.borderLeftWidth,10)||e._bl,u=parseInt(n.borderRightWidth,10)||e._br,p=parseInt(n.borderBottomWidth,10)||e._bb,d=parseInt(n.paddingTop,10)||e._pt,l=parseInt(n.paddingLeft,10)||e._pl,f=parseInt(n.paddingRight,10)||e._pr,_=parseInt(n.paddingBottom,10)||e._pb,v=Object.create(e);return r!==e._mw&&(v._mw=r),o!==e._mh&&(v._mh=o),s!==e._xw&&(v._xw=s),a!==e._xh&&(v._xh=a),h!==e._bt&&(v._bt=h),c!==e._bl&&(v._bl=c),u!==e._br&&(v._br=u),p!==e._bb&&(v._bb=p),d!==e._pt&&(v._pt=d),l!==e._pl&&(v._pl=l),f!==e._pr&&(v._pr=f),_!==e._pb&&(v._pb=_),v}t.createBoxSizing=e;var i={get minWidth(){return this._mw},get minHeight(){return this._mh},get maxWidth(){return this._xw},get maxHeight(){return this._xh},get borderTop(){return this._bt},get borderLeft(){return this._bl},get borderRight(){return this._br},get borderBottom(){return this._bb},get paddingTop(){return this._pt},get paddingLeft(){return this._pl},get paddingRight(){return this._pr},get paddingBottom(){return this._pb},get verticalSum(){return this._bt+this._bb+this._pt+this._pb},get horizontalSum(){return this._bl+this._br+this._pl+this._pr},_mw:0,_mh:0,_xw:1/0,_xh:1/0,_bt:0,_bl:0,_br:0,_bb:0,_pt:0,_pl:0,_pr:0,_pb:0}}(e=t.utility||(t.utility={}))}(phosphor||(phosphor={}));var phosphor;!function(t){var e;!function(t){function e(e){var r=n={},o=document.body;return o.style.cursor=e,o.classList.add(i),new t.Disposable(function(){r===n&&(n=null,o.style.cursor="",o.classList.remove(i))})}var i="p-mod-cursor-override",n=null;t.overrideCursor=e}(e=t.utility||(t.utility={}))}(phosphor||(phosphor={}));var phosphor;!function(t){var e;!function(t){var e=function(){function t(t){this._callback=t}return t.prototype.dispose=function(){var t=this._callback;this._callback=null,t&&t()},t}();t.Disposable=e}(e=t.utility||(t.utility={}))}(phosphor||(phosphor={}));var phosphor;!function(t){var e;!function(t){t.emptyObject=Object.freeze({}),t.emptyArray=Object.freeze([]),t.emptyFunction=function(){}}(e=t.utility||(t.utility={}))}(phosphor||(phosphor={}));var phosphor;!function(t){var e;!function(t){function e(t,e,i){var n=t.getBoundingClientRect();return e>=n.left&&e<n.right&&i>=n.top&&i<n.bottom}t.hitTest=e}(e=t.utility||(t.utility={}))}(phosphor||(phosphor={}));var phosphor;!function(t){var e;!function(t){var e=function(){function t(t,e){this.first=t,this.second=e}return t}();t.Pair=e}(e=t.utility||(t.utility={}))}(phosphor||(phosphor={}));var phosphor;!function(t){var e;!function(t){var e=function(){function t(t,e){this._x=t,this._y=e}return Object.defineProperty(t.prototype,"x",{get:function(){return this._x},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},enumerable:!0,configurable:!0}),t.prototype.equals=function(t){return this._x===t._x&&this._y===t._y},t.Zero=new t(0,0),t.Infinite=new t(1/0,1/0),t}();t.Point=e}(e=t.utility||(t.utility={}))}(phosphor||(phosphor={}));var phosphor;!function(t){var e;!function(t){var e=function(){function e(t,e,i,n){this._x=t,this._y=e,this._width=i,this._height=n}return Object.defineProperty(e.prototype,"x",{get:function(){return this._x},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this._y},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this._width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pos",{get:function(){return new t.Point(this._x,this._y)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return new t.Size(this._width,this._height)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"top",{get:function(){return this._y},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){return this._x},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){return this._x+this._width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bottom",{get:function(){return this._y+this._height},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"topLeft",{get:function(){return new t.Point(this._x,this._y)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"topRight",{get:function(){return new t.Point(this._x+this._width,this._y)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bottomLeft",{get:function(){return new t.Point(this._x,this._y+this._height)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bottomRight",{get:function(){return new t.Point(this._x+this._width,this._y+this._height)},enumerable:!0,configurable:!0}),e.prototype.equals=function(t){return this._x===t._x&&this._y===t._y&&this._width===t._width&&this._height===t._height},e}();t.Rect=e}(e=t.utility||(t.utility={}))}(phosphor||(phosphor={}));var phosphor;!function(t){var e;!function(t){var e=function(){function t(t,e){this._width=t,this._height=e}return Object.defineProperty(t.prototype,"width",{get:function(){return this._width},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},enumerable:!0,configurable:!0}),t.prototype.equals=function(t){return this._width===t._width&&this._height===t._height},t.Zero=new t(0,0),t.Infinite=new t(1/0,1/0),t}();t.Size=e}(e=t.utility||(t.utility={}))}(phosphor||(phosphor={}));var phosphor;!function(t){var e;!function(t){function e(){var e=document.documentElement,i=window.pageXOffset,n=window.pageYOffset,r=i+e.clientWidth,o=n+e.clientHeight;return new t.Rect(i,n,r,o)}t.clientViewportRect=e}(e=t.utility||(t.utility={}))}(phosphor||(phosphor={}));var phosphor;!function(t){var e;!function(t){var e=function(){function t(t){this._type=t}return Object.defineProperty(t.prototype,"type",{get:function(){return this._type},enumerable:!0,configurable:!0}),t}();t.Message=e}(e=t.core||(t.core={}))}(phosphor||(phosphor={}));var phosphor;!function(t){var e;!function(e){function i(t,e){c(t).sendMessage(e)}function n(t,e){c(t).postMessage(e)}function r(t){return c(t).hasPendingMessages()}function o(t){c(t).sendPendingMessage()}function s(t,e){c(t).installMessageFilter(e)}function a(t,e){c(t).removeMessageFilter(e)}function h(t){var e=f.get(t);void 0!==e&&(f["delete"](t),e.clearPendingMessages(),e.clearMessageFilters())}function c(t){var e=f.get(t);return void 0===e&&(e=new g(t),f.set(t,e)),e}function u(){0!==v||_.empty||(v=m(p))}function p(){if(v=0,!_.empty)for(null!==_.back&&_.pushBack(null);!_.empty;){var t=_.popFront();if(null===t)return void u();d(t)}}function d(t){try{t.sendPendingMessage()}catch(e){throw u(),e}}var l=t.collections.Queue;e.sendMessage=i,e.postMessage=n,e.hasPendingMessages=r,e.sendPendingMessage=o,e.installMessageFilter=s,e.removeMessageFilter=a,e.clearMessageData=h;var f=new WeakMap,_=new l,v=0,m=requestAnimationFrame,y=function(){function t(t){this._filter=t}return t.prototype.clear=function(){this._filter=null},t.prototype.equals=function(t){return this._filter===t},t.prototype.invoke=function(t,e){return this._filter?this._filter.filterMessage(t,e):!1},t}(),g=function(){function t(t){this._messages=null,this._filters=null,this._handler=t}return t.prototype.sendMessage=function(t){this._filterMessage(t)||this._handler.processMessage(t)},t.prototype.postMessage=function(t){this._compressMessage(t)||this._enqueueMessage(t)},t.prototype.hasPendingMessages=function(){return null!==this._messages&&!this._messages.empty},t.prototype.sendPendingMessage=function(){null===this._messages||this._messages.empty||this.sendMessage(this._messages.popFront())},t.prototype.clearPendingMessages=function(){null!==this._messages&&(this._messages.clear(),this._messages=null)},t.prototype.installMessageFilter=function(t){var e=new y(t),i=this._filters;null===i?this._filters=e:i instanceof y?this._filters=[i,e]:i.push(e)},t.prototype.removeMessageFilter=function(t){var e=this._filters;if(null!==e)if(e instanceof y)e.equals(t)&&(e.clear(),this._filters=null);else{for(var i=[],n=e,r=0,o=n.length;o>r;++r){var s=n[r];s.equals(t)?s.clear():i.push(s)}this._filters=0===i.length?null:1===i.length?i[0]:i}},t.prototype.clearMessageFilters=function(){var t=this._filters;if(null!==t)if(this._filters=null,t instanceof y)t.clear();else for(var e=t,i=0,n=e.length;n>i;++i)e[i].clear()},t.prototype._compressMessage=function(t){return void 0===this._handler.compressMessage?!1:null===this._messages||this._messages.empty?!1:this._handler.compressMessage(t,this._messages)},t.prototype._filterMessage=function(t){var e=this._filters;if(null===e)return!1;if(e instanceof y)return e.invoke(this._handler,t);for(var i=this._handler,n=e,r=n.length-1;r>=0;--r)if(n[r].invoke(i,t))return!0;return!1},t.prototype._enqueueMessage=function(t){null===this._messages&&(this._messages=new l),this._messages.pushBack(t),_.pushBack(this),u()},t}()}(e=t.core||(t.core={}))}(phosphor||(phosphor={}));var phosphor;!function(t){var e;!function(t){var e=function(){function t(){this._node=this.constructor.createNode()}return t.createNode=function(){return document.createElement("div")},t.prototype.dispose=function(){this._node=null},Object.defineProperty(t.prototype,"node",{get:function(){return this._node},enumerable:!0,configurable:!0}),t.prototype.hasClass=function(t){return this._node.classList.contains(t)},t.prototype.addClass=function(t){this._node.classList.add(t)},t.prototype.removeClass=function(t){this._node.classList.remove(t)},t}();t.NodeBase=e}(e=t.core||(t.core={}))}(phosphor||(phosphor={}));var phosphor;!function(t){var e;!function(t){function e(t,e,i,n){if(!(t&&e&&i&&n))return console.warn("null argument passed to `connect()`"),!1;var r=p.get(t);void 0===r&&(r=new c,p.set(t,r));for(var s=r.first;null!==s;){if(o(s,t,e,i,n))return!1;s=s.nextReceiver}s=new u,s.sender=t,s.signal=e,s.receiver=i,s.method=n,null===r.last?(r.first=s,r.last=s):(r.last.nextReceiver=s,r.last=s);var a=d.get(i);return void 0!==a&&(a.prevSender=s,s.nextSender=a),d.set(i,s),!0}function i(t,e,i,n){if(t){var r=p.get(t);if(void 0===r)return!1;for(var a=!1,h=r.first;null!==h;)o(h,t,e,i,n)&&(r.dirty=!0,s(h),a=!0),h=h.nextReceiver;return a}if(i){var h=d.get(i);if(void 0===h)return!1;for(var a=!1;null!==h;){var c=h.nextSender;o(h,t,e,i,n)&&(p.get(h.sender).dirty=!0,s(h),a=!0),h=c}return a}return console.warn("null sender and receiver passed to `disconnect()`"),!1}function n(t,e,i){var n=p.get(t);if(void 0!==n){n.refs++;try{r(n,e,i)}finally{n.refs--}n.dirty&&0===n.refs&&(a(n),n.dirty=!1)}}function r(t,e,i){for(var n=t.last,r=t.first;null!==r&&(null!==r.receiver&&r.signal===e&&r.method.call(r.receiver,r.sender,i),r!==n);)r=r.nextReceiver}function o(t,e,i,n,r){return!(e&&t.sender!==e||i&&t.signal!==i||n&&t.receiver!==n||r&&t.method!==r)}function s(t){var e=t.prevSender,i=t.nextSender;null===e?null===i?d["delete"](t.receiver):(d.set(t.receiver,i),i.prevSender=null):null===i?e.nextSender=null:(e.nextSender=i,i.prevSender=e),t.sender=null,t.receiver=null,t.prevSender=null,t.nextSender=null}function a(t){for(var e=null,i=t.first;null!==i;){var n=i.nextReceiver;null===i.receiver?i.nextReceiver=null:null===e?(t.first=i,e=i):(e.nextReceiver=i,e=i),i=n}null===e?(t.first=null,t.last=null):(e.nextReceiver=null,t.last=e)}var h=function(){function t(){}return t}();t.Signal=h,t.connect=e,t.disconnect=i,t.emit=n;var c=function(){function t(){this.refs=0,this.dirty=!1,this.first=null,this.last=null}return t}(),u=function(){function t(){this.sender=null,this.signal=null,this.receiver=null,this.method=null,this.nextReceiver=null,this.nextSender=null,this.prevSender=null}return t}(),p=new WeakMap,d=new WeakMap}(e=t.core||(t.core={}))}(phosphor||(phosphor={}));var phosphor;!function(t){var e;!function(t){var e=function(){function t(t){this._name=t}return Object.defineProperty(t.prototype,"name",{get:function(){return this._name},enumerable:!0,configurable:!0}),t}();t.Token=e}(e=t.di||(t.di={}))}(phosphor||(phosphor={}));var phosphor;!function(t){var e;!function(t){function e(t){if("transient"===t)return o;if("singleton"===t)return new s;if("perresolve"===t)return new a;throw new Error("invalid lifetime: "+t)}var i=function(){function t(){this._registry=new Map}return t.prototype.isRegistered=function(t){return this._registry.has(t)},t.prototype.registerType=function(t,i,n){if(this._registry.has(t))throw new Error("token is already registered");var r=e(n||"singleton");this._registry.set(t,{type:i,lifetime:r})},t.prototype.registerInstance=function(t,e){if(this._registry.has(t))throw new Error("token is already registered");var i=new s(e);this._registry.set(t,{type:null,lifetime:i})},t.prototype.resolve=function(t){return"function"==typeof t?this._resolveType(t,n++):this._resolveToken(t,n++)},t.prototype._resolveToken=function(t,e){var i=this._registry.get(t);if(void 0===i)throw new Error("`"+t.name+"` is not registered");var n=i.lifetime.get(e);return n?n:(n=this._resolveType(i.type,e),i.lifetime.set(e,n),n)},t.prototype._resolveType=function(t,e){var i=Object.create(t.prototype),n=t.$inject;if(!n||0===n.length)return t.call(i)||i;for(var r=[],o=0,s=n.length;s>o;++o)r[o]=this._resolveToken(n[o],e);return t.apply(i,r)||i},t}();t.Container=i;var n=0,r=function(){function t(){}return t.prototype.get=function(t){return null},t.prototype.set=function(t,e){},t}(),o=new r,s=function(){function t(t){void 0===t&&(t=null),this._val=t}return t.prototype.get=function(t){return this._val},t.prototype.set=function(t,e){this._val=e},t}(),a=function(){function t(){this._key=0,this._val=null}return t.prototype.get=function(t){return this._key===t?this._val:null},t.prototype.set=function(t,e){this._key=t,this._val=e},t}()}(e=t.di||(t.di={}))}(phosphor||(phosphor={}));var phosphor;!function(t){var e;!function(t){t.IContainer=new t.Token("phosphor.di.IContainer")}(e=t.di||(t.di={}))}(phosphor||(phosphor={}));var phosphor;!function(t){var e;!function(e){function i(t){return r.bind(void 0,t)}function n(t,e){for(var i=0,n=e.length;n>i;++i){var r=e[i];r&&t.push(r)}}function r(t,i){var r=null,a=null;i&&("string"==typeof i?a=[i]:i instanceof e.Elem?a=[i]:i instanceof Array?a=i.slice():r=i);var h=arguments.length;if(h>2){a=a||[];for(var c=2;h>c;++c){var u=arguments[c];u instanceof Array?n(a,u):u&&a.push(u)}}if(a)for(var c=0,p=a.length;p>c;++c){var u=a[c];"string"==typeof u&&(a[c]=new e.Elem(0,u,s,o))}r=r||s,a=a||o;var d;return d="string"==typeof t?new e.Elem(1,t,r,a):new e.Elem(2,t,r,a)}var o=t.utility.emptyArray,s=t.utility.emptyObject;e.createFactory=i}(e=t.virtualdom||(t.virtualdom={}))}(phosphor||(phosphor={}));var __extends=this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);i.prototype=e.prototype,t.prototype=new i},phosphor;!function(t){var e;!function(e){var i=t.core.Message,n=t.core.NodeBase,r=t.core.clearMessageData,o=t.core.postMessage,s=t.core.sendMessage,a=t.utility.emptyArray,h=t.utility.emptyObject,c=new i("update-request"),u=function(t){function e(e,i){t.call(this),this._data=h,this._children=a,this._data=e,this._children=i}return __extends(e,t),e.prototype.dispose=function(){r(this),this._data=null,this._children=null,t.prototype.dispose.call(this)},Object.defineProperty(e.prototype,"data",{get:function(){return this._data},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"children",{get:function(){return this._children},enumerable:!0,configurable:!0}),e.prototype.init=function(t,e){this._data=t,this._children=e},e.prototype.update=function(t){void 0===t&&(t=!1),t?s(this,c):o(this,c)},e.prototype.processMessage=function(t){switch(t.type){case"update-request":this.onUpdateRequest(t);break;case"after-attach":this.onAfterAttach(t);break;case"before-detach":this.onBeforeDetach(t);break;case"before-move":this.onBeforeMove(t);break;case"after-move":this.onAfterMove(t)}},e.prototype.compressMessage=function(t,e){return"update-request"===t.type?e.some(function(e){return e.type===t.type}):!1},e.prototype.onUpdateRequest=function(t){},e.prototype.onAfterAttach=function(t){},e.prototype.onBeforeDetach=function(t){},e.prototype.onBeforeMove=function(t){},e.prototype.onAfterMove=function(t){},e}(n);e.BaseComponent=u}(e=t.virtualdom||(t.virtualdom={}))}(phosphor||(phosphor={}));var __extends=this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);i.prototype=e.prototype,t.prototype=new i},phosphor;!function(t){var e;!function(e){var i=t.core.Message,n=t.core.sendMessage,r=t.utility.emptyObject,o=new i("before-render"),s=new i("after-render"),a=function(t){function i(){t.apply(this,arguments),this._refs=r}return __extends(i,t),i.createNode=function(){var t=document.createElement(this.tagName);return t.className=this.className,t},i.prototype.dispose=function(){this._refs=null,t.prototype.dispose.call(this)},Object.defineProperty(i.prototype,"refs",{get:function(){return this._refs},enumerable:!0,configurable:!0}),i.prototype.processMessage=function(e){switch(e.type){case"before-render":this.onBeforeRender(e);break;case"after-render":this.onAfterRender(e);break;default:t.prototype.processMessage.call(this,e)}},i.prototype.render=function(){return null},i.prototype.onUpdateRequest=function(t){n(this,o),this._refs=e.render(this.render(),this.node),n(this,s)},i.prototype.onBeforeRender=function(t){},i.prototype.onAfterRender=function(t){},i.tagName="div",i.className="",i}(e.BaseComponent);e.Component=a}(e=t.virtualdom||(t.virtualdom={}))}(phosphor||(phosphor={}));var phosphor;!function(t){var e;!function(t){t.dom={a:t.createFactory("a"),abbr:t.createFactory("abbr"),address:t.createFactory("address"),area:t.createFactory("area"),article:t.createFactory("article"),aside:t.createFactory("aside"),audio:t.createFactory("audio"),b:t.createFactory("b"),bdi:t.createFactory("bdi"),bdo:t.createFactory("bdo"),blockquote:t.createFactory("blockquote"),br:t.createFactory("br"),button:t.createFactory("button"),canvas:t.createFactory("canvas"),caption:t.createFactory("caption"),cite:t.createFactory("cite"),code:t.createFactory("code"),col:t.createFactory("col"),colgroup:t.createFactory("colgroup"),data:t.createFactory("data"),datalist:t.createFactory("datalist"),dd:t.createFactory("dd"),del:t.createFactory("del"),dfn:t.createFactory("dfn"),div:t.createFactory("div"),dl:t.createFactory("dl"),dt:t.createFactory("dt"),em:t.createFactory("em"),embed:t.createFactory("embed"),fieldset:t.createFactory("fieldset"),figcaption:t.createFactory("figcaption"),figure:t.createFactory("figure"),footer:t.createFactory("footer"),form:t.createFactory("form"),h1:t.createFactory("h1"),h2:t.createFactory("h2"),h3:t.createFactory("h3"),h4:t.createFactory("h4"),h5:t.createFactory("h5"),h6:t.createFactory("h6"),header:t.createFactory("header"),hr:t.createFactory("hr"),i:t.createFactory("i"),iframe:t.createFactory("iframe"),img:t.createFactory("img"),input:t.createFactory("input"),ins:t.createFactory("ins"),kbd:t.createFactory("kbd"),label:t.createFactory("label"),legend:t.createFactory("legend"),li:t.createFactory("li"),main:t.createFactory("main"),map:t.createFactory("map"),mark:t.createFactory("mark"),meter:t.createFactory("meter"),nav:t.createFactory("nav"),noscript:t.createFactory("noscript"),object:t.createFactory("object"),ol:t.createFactory("ol"),optgroup:t.createFactory("optgroup"),option:t.createFactory("option"),output:t.createFactory("output"),p:t.createFactory("p"),param:t.createFactory("param"),pre:t.createFactory("pre"),progress:t.createFactory("progress"),q:t.createFactory("q"),rp:t.createFactory("rp"),rt:t.createFactory("rt"),ruby:t.createFactory("ruby"),s:t.createFactory("s"),samp:t.createFactory("samp"),section:t.createFactory("section"),select:t.createFactory("select"),small:t.createFactory("small"),source:t.createFactory("source"),span:t.createFactory("span"),strong:t.createFactory("strong"),sub:t.createFactory("sub"),summary:t.createFactory("summary"),sup:t.createFactory("sup"),table:t.createFactory("table"),tbody:t.createFactory("tbody"),td:t.createFactory("td"),textarea:t.createFactory("textarea"),tfoot:t.createFactory("tfoot"),th:t.createFactory("th"),thead:t.createFactory("thead"),time:t.createFactory("time"),title:t.createFactory("title"),tr:t.createFactory("tr"),track:t.createFactory("track"),u:t.createFactory("u"),ul:t.createFactory("ul"),"var":t.createFactory("var"),video:t.createFactory("video"),wbr:t.createFactory("wbr")}}(e=t.virtualdom||(t.virtualdom={}))}(phosphor||(phosphor={}));var phosphor;!function(t){var e;!function(t){!function(t){t[t.Text=0]="Text",t[t.Node=1]="Node",t[t.Component=2]="Component"}(t.ElemType||(t.ElemType={}));var e=(t.ElemType,function(){function t(t,e,i,n){this.type=t,this.tag=e,this.data=i,this.children=n}return t}());t.Elem=e}(e=t.virtualdom||(t.virtualdom={}))}(phosphor||(phosphor={}));var phosphor;!function(t){var e;!function(e){function i(t,e){var i;w++;try{i=n(t,e)}finally{w--}return 0===w&&o(),i}function n(t,e){var i=S.get(e)||b,n=r(t);return S.set(e,n),p(e,i,n),s(e,n)}function r(t){return t instanceof Array?t:t?[t]:b}function o(){for(;z.length>0;){var t=z.pop();y(t,O)}}function s(t,e){var i=Object.create(null);return a(t,e,i),i}function a(t,e,i){for(var n=t.firstChild,r=0,o=e.length;o>r;++r){var s=e[r];switch(s.type){case 1:var h=s.data.ref;h&&(i[h]=n),a(n,s.children,i);break;case 2:var h=s.data.ref;h&&(i[h]=M.get(n))}n=n.nextSibling}}function h(t,e){for(var i=t.firstChild,n=Object.create(null),r=0,o=e.length;o>r;++r){var s=e[r],a=s.data.key;a&&(n[a]=new g(s,i)),i=i.nextSibling}return n}function c(t){var e;switch(t.type){case 0:e=document.createTextNode(t.tag);break;case 1:e=document.createElement(t.tag),f(e,t.data),u(e,t.children);break;case 2:var i=t.tag,n=new i(t.data,t.children);e=n.node,M.set(e,n),z.push(n),y(n,P);break;default:throw new Error("invalid element type")}return e}function u(t,e){for(var i=0,n=e.length;n>i;++i)t.appendChild(c(e[i]))}function p(t,e,i){if(e!==i){for(var n=h(t,e),r=v.copy(e),o=t.firstChild,s=i.length,a=0;s>a;++a)if(a>=r.length)t.appendChild(c(i[a]));else{var u=r[a],f=i[a],m=f.data.key;if(m&&m in n){var g=n[m];g.first!==u&&(v.move(r,v.indexOf(r,g.first,a),a),d(g.second,C),t.insertBefore(g.second,o),d(g.second,k),u=g.first,o=g.second)}if(u!==f){var b=u.data.key;if(b&&b!==m)v.insert(r,a,f),t.insertBefore(c(f),o);else if(u.type===f.type)if(0!==f.type)if(u.tag===f.tag)if(1!==f.type){var x=M.get(o);x.init(f.data,f.children),y(x,P),o=o.nextSibling}else _(o,u.data,f.data),p(o,u.children,f.children),o=o.nextSibling;else v.insert(r,a,f),t.insertBefore(c(f),o);else o.textContent=f.tag,o=o.nextSibling;else v.insert(r,a,f),t.insertBefore(c(f),o)}else o=o.nextSibling}for(var a=r.length-1;a>=s;--a){var w=t.lastChild;d(w,I),t.removeChild(w),l(w)}}}function d(t,e){if(1===t.nodeType){var i=M.get(t);i&&y(i,e)}for(var n=t.firstChild;n;n=n.nextSibling)d(n,e)}function l(t){if(1===t.nodeType){var e=M.get(t);e&&e.dispose()}for(var i=t.firstChild;i;i=i.nextSibling)l(i)}function f(t,e){for(var i in e){var n=T[i];0===n||2===n?t[i]=e[i]:1===n&&t.setAttribute(i.toLowerCase(),e[i])}var r=e.dataset;if(r)for(var i in r)t.setAttribute("data-"+i,r[i]);var o=e.style;if(o){var s=t.style;for(var i in o)s[i]=o[i]}}function _(t,e,i){if(e!==i){for(var n in e)if(!(n in i)){var r=T[n];0===r?t.removeAttribute(n):1===r?t.removeAttribute(n.toLowerCase()):2===r&&(t[n]=null)}for(var n in i){var o=i[n];if(e[n]!==o){var r=T[n];0===r||2===r?t[n]=o:1===r&&t.setAttribute(n.toLowerCase(),o)}}var s=e.dataset||x,a=i.dataset||x;if(s!==a){for(var n in s)n in a||t.removeAttribute("data-"+n);for(var n in a){var o=a[n];s[n]!==o&&t.setAttribute("data-"+n,o)}}var h=e.style||x,c=i.style||x;if(h!==c){var u=t.style;for(var n in h)n in c||(u[n]="");for(var n in c){var o=c[n];h[n]!==o&&(u[n]=o)}}}}var v=t.collections.algorithm,m=t.core.Message,y=t.core.sendMessage,g=t.utility.Pair,b=t.utility.emptyArray,x=t.utility.emptyObject;e.render=i;var w=0,z=[],S=new WeakMap,M=new WeakMap,P=new m("update-request"),O=new m("after-attach"),I=new m("before-detach"),C=new m("before-move"),k=new m("after-move"),T={accept:0,acceptCharset:0,accessKey:0,action:0,allowFullscreen:1,alt:0,autocomplete:0,autofocus:0,autoplay:0,checked:0,cite:0,className:0,colSpan:0,cols:0,contentEditable:0,controls:0,coords:0,crossOrigin:0,data:0,dateTime:0,"default":0,dir:0,dirName:0,disabled:0,download:0,draggable:0,enctype:0,form:1,formAction:0,formEnctype:0,formMethod:0,formNoValidate:0,
formTarget:0,headers:0,height:0,hidden:0,high:0,href:0,hreflang:0,htmlFor:0,id:0,inputMode:0,isMap:0,kind:0,label:0,lang:0,list:1,loop:0,low:0,max:0,maxLength:0,media:1,mediaGroup:0,method:0,min:0,minLength:0,multiple:0,muted:0,name:0,noValidate:0,optimum:0,pattern:0,placeholder:0,poster:0,preload:0,readOnly:0,rel:0,required:0,reversed:0,rowSpan:0,rows:0,sandbox:0,scope:0,seamless:1,selected:0,shape:0,size:0,sizes:1,sorted:0,span:0,spellcheck:0,src:0,srcdoc:0,srclang:0,srcset:1,start:0,step:0,tabIndex:0,target:0,title:0,type:0,typeMustMatch:0,useMap:0,value:0,volume:0,width:0,wrap:0,onabort:2,onbeforecopy:2,onbeforecut:2,onbeforepaste:2,onblur:2,oncanplay:2,oncanplaythrough:2,onchange:2,onclick:2,oncontextmenu:2,oncopy:2,oncuechange:2,oncut:2,ondblclick:2,ondrag:2,ondragend:2,ondragenter:2,ondragleave:2,ondragover:2,ondragstart:2,ondrop:2,ondurationchange:2,onended:2,onemptied:2,onerror:2,onfocus:2,onhelp:2,oninput:2,onkeydown:2,onkeypress:2,onkeyup:2,onload:2,onloadeddata:2,onloadedmetadata:2,onloadstart:2,onmousedown:2,onmouseenter:2,onmouseleave:2,onmousemove:2,onmouseout:2,onmouseover:2,onmouseup:2,onmousewheel:2,onpaste:2,onpause:2,onplay:2,onplaying:2,onprogress:2,onratechange:2,onreadystatechange:2,onreset:2,onscroll:2,onseeked:2,onseeking:2,onselect:2,onselectstart:2,onstalled:2,onsubmit:2,onsuspend:2,ontimeupdate:2,onvolumechange:2,onwaiting:2}}(e=t.virtualdom||(t.virtualdom={}))}(phosphor||(phosphor={}));var phosphor;!function(t){var e;!function(t){!function(t){t[t.Left=1]="Left",t[t.Right=2]="Right",t[t.HorizontalCenter=4]="HorizontalCenter",t[t.Top=16]="Top",t[t.Bottom=32]="Bottom",t[t.VerticalCenter=64]="VerticalCenter",t[t.Center=t.HorizontalCenter|t.VerticalCenter]="Center",t[t.Horizontal_Mask=t.Left|t.Right|t.HorizontalCenter]="Horizontal_Mask",t[t.Vertical_Mask=t.Top|t.Bottom|t.VerticalCenter]="Vertical_Mask"}(t.Alignment||(t.Alignment={}));t.Alignment}(e=t.widgets||(t.widgets={}))}(phosphor||(phosphor={}));var __extends=this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);i.prototype=e.prototype,t.prototype=new i},phosphor;!function(t){var e;!function(e){var i=t.core.Message,n=function(t){function e(e,i){t.call(this,e),this._child=i}return __extends(e,t),Object.defineProperty(e.prototype,"child",{get:function(){return this._child},enumerable:!0,configurable:!0}),e}(i);e.ChildMessage=n}(e=t.widgets||(t.widgets={}))}(phosphor||(phosphor={}));var phosphor;!function(t){var e;!function(t){!function(t){t[t.LeftToRight=0]="LeftToRight",t[t.RightToLeft=1]="RightToLeft",t[t.TopToBottom=2]="TopToBottom",t[t.BottomToTop=3]="BottomToTop"}(t.Direction||(t.Direction={}));t.Direction}(e=t.widgets||(t.widgets={}))}(phosphor||(phosphor={}));var phosphor;!function(t){var e;!function(t){!function(t){t[t.Top=0]="Top",t[t.Left=1]="Left",t[t.Right=2]="Right",t[t.Bottom=3]="Bottom",t[t.SplitTop=4]="SplitTop",t[t.SplitLeft=5]="SplitLeft",t[t.SplitRight=6]="SplitRight",t[t.SplitBottom=7]="SplitBottom",t[t.TabBefore=8]="TabBefore",t[t.TabAfter=9]="TabAfter"}(t.DockMode||(t.DockMode={}));t.DockMode}(e=t.widgets||(t.widgets={}))}(phosphor||(phosphor={}));var __extends=this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);i.prototype=e.prototype,t.prototype=new i},phosphor;!function(t){var e;!function(e){var i=t.core.Message,n=function(t){function e(e,i,n,r){t.call(this,"move"),this._oldX=e,this._oldY=i,this._x=n,this._y=r}return __extends(e,t),Object.defineProperty(e.prototype,"oldX",{get:function(){return this._oldX},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"oldY",{get:function(){return this._oldY},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"x",{get:function(){return this._x},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this._y},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"deltaX",{get:function(){return this._x-this._oldX},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"deltaY",{get:function(){return this._y-this._oldY},enumerable:!0,configurable:!0}),e}(i);e.MoveMessage=n}(e=t.widgets||(t.widgets={}))}(phosphor||(phosphor={}));var phosphor;!function(t){var e;!function(t){!function(t){t[t.Horizontal=0]="Horizontal",t[t.Vertical=1]="Vertical"}(t.Orientation||(t.Orientation={}));t.Orientation}(e=t.widgets||(t.widgets={}))}(phosphor||(phosphor={}));var __extends=this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);i.prototype=e.prototype,t.prototype=new i},phosphor;!function(t){var e;!function(e){var i=t.core.Message,n=function(t){function e(e,i,n,r){t.call(this,"resize"),this._oldWidth=e,this._oldHeight=i,this._width=n,this._height=r}return __extends(e,t),Object.defineProperty(e.prototype,"oldWidth",{get:function(){return this._oldWidth},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"oldHeight",{get:function(){return this._oldHeight},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this._width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"deltaWidth",{get:function(){return this._width-this._oldWidth},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"deltaHeight",{get:function(){return this._height-this._oldHeight},enumerable:!0,configurable:!0}),e}(i);e.ResizeMessage=n}(e=t.widgets||(t.widgets={}))}(phosphor||(phosphor={}));var phosphor;!function(t){var e;!function(t){!function(t){t[t.Fixed=0]="Fixed",t[t.GrowFlag=1]="GrowFlag",t[t.ShrinkFlag=2]="ShrinkFlag",t[t.ExpandFlag=4]="ExpandFlag",t[t.IgnoreFlag=8]="IgnoreFlag",t[t.Minimum=t.GrowFlag]="Minimum",t[t.Maximum=t.ShrinkFlag]="Maximum",t[t.Preferred=t.GrowFlag|t.ShrinkFlag]="Preferred",t[t.Expanding=t.GrowFlag|t.ShrinkFlag|t.ExpandFlag]="Expanding",t[t.MinimumExpanding=t.GrowFlag|t.ExpandFlag]="MinimumExpanding",t[t.Ignored=t.GrowFlag|t.ShrinkFlag|t.IgnoreFlag]="Ignored"}(t.SizePolicy||(t.SizePolicy={}));t.SizePolicy}(e=t.widgets||(t.widgets={}))}(phosphor||(phosphor={}));var phosphor;!function(t){var e;!function(t){!function(t){t[t.IsAttached=1]="IsAttached",t[t.IsHidden=2]="IsHidden",t[t.IsVisible=4]="IsVisible",t[t.IsDisposed=8]="IsDisposed",t[t.DisallowLayoutChange=16]="DisallowLayoutChange"}(t.WidgetFlag||(t.WidgetFlag={}));t.WidgetFlag}(e=t.widgets||(t.widgets={}))}(phosphor||(phosphor={}));var phosphor;!function(t){var e;!function(e){var i=t.core.Message,n=t.core.disconnect,r=t.core.postMessage,o=new i("layout-request"),s=function(){function t(){this._parent=null}return t.prototype.dispose=function(){n(this,null,null,null),n(null,null,this,null),this._parent=null},Object.defineProperty(t.prototype,"parent",{get:function(){return this._parent},set:function(t){if(!t)throw new Error("cannot set parent widget to null");if(t!==this._parent){if(this._parent)throw new Error("layout already installed on a widget");this._parent=t,this.reparentChildWidgets(),this.invalidate()}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"count",{get:function(){throw new Error("not implemented")},enumerable:!0,configurable:!0}),t.prototype.itemAt=function(t){throw new Error("not implemented")},t.prototype.removeAt=function(t){throw new Error("not implemented")},t.prototype.sizeHint=function(){throw new Error("not implemented")},t.prototype.minSize=function(){throw new Error("not implemented")},t.prototype.maxSize=function(){throw new Error("not implemented")},t.prototype.widgetAt=function(t){var e=this.itemAt(t);return e&&e.widget||void 0},t.prototype.indexOf=function(t){for(var e=0,i=this.count;i>e;++e){var n=this.itemAt(e);if(n===t||n.widget===t)return e}return-1},t.prototype.remove=function(t){var e=this.indexOf(t);return-1!==e&&this.removeAt(e),e},t.prototype.alignment=function(t){var e=this.indexOf(t);return-1===e?0:this.itemAt(e).alignment},t.prototype.setAlignment=function(t,e){var i=this.indexOf(t);if(-1===i)return!1;var n=this.itemAt(i);return n.alignment!==e&&(n.alignment=e,this.invalidate()),!0},t.prototype.invalidate=function(){var t=this._parent;t&&(r(t,o),t.updateGeometry())},t.prototype.refresh=function(){var t=this._parent;if(t&&t.isVisible){var e=t.boxSizing,i=e.paddingLeft,n=e.paddingTop,r=t.width-e.horizontalSum,o=t.height-e.verticalSum;this.layout(i,n,r,o)}},t.prototype.filterMessage=function(t,e){return t===this._parent&&this.processParentMessage(e),!1},t.prototype.processParentMessage=function(t){switch(t.type){case"resize":case"layout-request":this.refresh();break;case"child-removed":this.remove(t.child);break;case"before-attach":this.invalidate()}},t.prototype.layout=function(t,e,i,n){},t.prototype.ensureParent=function(t){var e=this._parent;e&&(t.parent=e)},t.prototype.reparentChildWidgets=function(){var t=this._parent;if(t)for(var e=0,i=this.count;i>e;++e){var n=this.itemAt(e).widget;n&&(n.parent=t)}},t}();e.Layout=s}(e=t.widgets||(t.widgets={}))}(phosphor||(phosphor={}));var phosphor;!function(t){var e;!function(t){function e(t,e){var i=t.length;if(0!==i){for(var n=0,r=0,o=0,s=0,a=0,h=0,c=0;i>c;++c){var u=t[c],p=u.minSize,d=u.maxSize,l=Math.max(p,Math.min(u.sizeHint,d));u.done=!1,u.size=l,o+=l,n+=p,r+=d,u.stretch>0&&(s+=u.stretch,a++),u.expansive&&h++}if(e!==o)if(n>=e)for(var c=0;i>c;++c){var u=t[c];u.size=u.minSize}else if(e>=r)for(var c=0;i>c;++c){var u=t[c];u.size=u.maxSize}else{var f=.01,_=i;if(o>e){for(var v=o-e;a>0&&v>f;)for(var m=v,y=s,c=0;i>c;++c){var u=t[c];if(!u.done&&0!==u.stretch){var g=u.stretch*m/y;u.size-g<=u.minSize?(v-=u.size-u.minSize,s-=u.stretch,u.size=u.minSize,u.done=!0,_--,a--):(v-=g,u.size-=g)}}for(;_>0&&v>f;)for(var g=v/_,c=0;i>c;++c){var u=t[c];u.done||(u.size-g<=u.minSize?(v-=u.size-u.minSize,u.size=u.minSize,u.done=!0,_--):(v-=g,u.size-=g))}}else{for(var v=e-o;a>0&&v>f;)for(var m=v,y=s,c=0;i>c;++c){var u=t[c];if(!u.done&&0!==u.stretch){var g=u.stretch*m/y;u.size+g>=u.maxSize?(v-=u.maxSize-u.size,s-=u.stretch,u.size=u.maxSize,u.done=!0,_--,a--,u.expansive&&h--):(v-=g,u.size+=g)}}for(;h>0&&v>f;)for(var g=v/h,c=0;i>c;++c){var u=t[c];!u.done&&u.expansive&&(u.size+g>=u.maxSize?(v-=u.maxSize-u.size,u.size=u.maxSize,u.done=!0,h--,_--):(v-=g,u.size+=g))}for(;_>0&&v>f;)for(var g=v/_,c=0;i>c;++c){var u=t[c];u.done||(u.size+g>=u.maxSize?(v-=u.maxSize-u.size,u.size=u.maxSize,u.done=!0,_--):(v-=g,u.size+=g))}}}}}var i=function(){function t(){this.sizeHint=0,this.minSize=0,this.maxSize=1/0,this.stretch=1,this.expansive=!1,this.size=0,this.done=!1}return t}();t.LayoutSizer=i,t.layoutCalc=e}(e=t.widgets||(t.widgets={}))}(phosphor||(phosphor={}));var phosphor;!function(t){var e;!function(e){var i=t.utility.Size,n=function(){function t(t,e,i,n){this.setSizing(t,e,i,n)}return Object.defineProperty(t.prototype,"isWidget",{get:function(){return!1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isSpacer",{get:function(){return!0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isHidden",{get:function(){return!1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"widget",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"alignment",{get:function(){return 0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"expandHorizontal",{get:function(){var t=this._sizePolicy>>16;return 0!==(4&t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"expandVertical",{get:function(){var t=65535&this._sizePolicy;return 0!==(4&t)},enumerable:!0,configurable:!0}),t.prototype.setSizing=function(t,e,n,r){var o=Math.max(0,t),s=Math.max(0,e);this._size=new i(o,s),this._sizePolicy=n<<16|r},t.prototype.transpose=function(){var t=this._size,e=this._sizePolicy>>16,n=65535&this._sizePolicy;this._size=new i(t.height,t.width),this._sizePolicy=n<<16|e},t.prototype.invalidate=function(){},t.prototype.sizeHint=function(){return this._size},t.prototype.minSize=function(){var t=this._size,e=this._sizePolicy>>16,n=65535&this._sizePolicy,r=2&e?0:t.width,o=2&n?0:t.height;return new i(r,o)},t.prototype.maxSize=function(){var t=this._size,e=this._sizePolicy>>16,n=65535&this._sizePolicy,r=1&e?1/0:t.width,o=1&n?1/0:t.height;return new i(r,o)},t.prototype.setGeometry=function(t,e,i,n){},t}();e.SpacerItem=n}(e=t.widgets||(t.widgets={}))}(phosphor||(phosphor={}));var phosphor;!function(t){var e;!function(e){var i=t.utility.Size,n=function(){function t(t,e){void 0===e&&(e=0),this._origHint=null,this._sizeHint=null,this._minSize=null,this._maxSize=null,this._widget=t,this._alignment=e}return Object.defineProperty(t.prototype,"isWidget",{get:function(){return!0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isSpacer",{get:function(){return!1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isHidden",{get:function(){return this._widget.isHidden},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"widget",{get:function(){return this._widget},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"alignment",{get:function(){return this._alignment},set:function(t){this._alignment=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"expandHorizontal",{get:function(){if(this._alignment&e.Alignment.Horizontal_Mask)return!1;var t=this._widget.horizontalSizePolicy;return 0!==(4&t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"expandVertical",{get:function(){if(this._alignment&e.Alignment.Vertical_Mask)return!1;var t=this._widget.verticalSizePolicy;return 0!==(4&t)},enumerable:!0,configurable:!0}),t.prototype.invalidate=function(){this._origHint=null,this._sizeHint=null,this._minSize=null,this._maxSize=null},t.prototype.sizeHint=function(){return this._sizeHint||this._updateSizes(),this._sizeHint},t.prototype.minSize=function(){return this._minSize||this._updateSizes(),this._minSize},t.prototype.maxSize=function(){return this._maxSize||this._updateSizes(),this._maxSize},t.prototype.setGeometry=function(t,i,n,r){var o=this._widget;if(!o.isHidden){var s=n,a=r,h=this._alignment;if(h&e.Alignment.Horizontal_Mask){var c=o.horizontalSizePolicy===e.SizePolicy.Ignored;s=Math.min(s,c?this._origHint.width:this._sizeHint.width)}if(h&e.Alignment.Vertical_Mask){var u=o.verticalSizePolicy===e.SizePolicy.Ignored;a=Math.min(a,u?this._origHint.height:this._sizeHint.height)}var p=this._minSize,d=this._maxSize;s=Math.max(p.width,Math.min(s,d.width)),a=Math.max(p.height,Math.min(a,d.height)),2&h?t+=n-s:4&h&&(t+=(n-s)/2),32&h?i+=r-a:64&h&&(i+=(r-a)/2),o.setGeometry(t,i,s,a)}},t.prototype._updateSizes=function(){var t=this._widget;if(t.isHidden)return this._origHint=i.Zero,this._sizeHint=i.Zero,this._minSize=i.Zero,void(this._maxSize=i.Zero);var n=t.boxSizing,r=t.sizeHint(),o=t.minSizeHint(),s=t.maxSizeHint(),a=t.verticalSizePolicy,h=t.horizontalSizePolicy,c=0,u=0;h!==e.SizePolicy.Ignored&&(c=Math.max(o.width,r.width)),a!==e.SizePolicy.Ignored&&(u=Math.max(o.height,r.height)),c=Math.max(n.minWidth,Math.min(c,n.maxWidth)),u=Math.max(n.minHeight,Math.min(u,n.maxHeight));var p=0,d=0;h!==e.SizePolicy.Ignored&&(p=2&h?o.width:Math.max(o.width,r.width)),a!==e.SizePolicy.Ignored&&(d=2&a?o.height:Math.max(o.height,r.height)),p=Math.max(n.minWidth,Math.min(p,n.maxWidth)),d=Math.max(n.minHeight,Math.min(d,n.maxHeight));var l=1/0,f=1/0,_=this._alignment;_&e.Alignment.Horizontal_Mask||(h!==e.SizePolicy.Ignored&&(l=1&h?Math.max(o.width,s.width):Math.max(o.width,r.width)),l=Math.max(n.minWidth,Math.min(l,n.maxWidth))),_&e.Alignment.Vertical_Mask||(a!==e.SizePolicy.Ignored&&(f=1&a?Math.max(o.height,s.height):Math.max(o.height,r.height)),f=Math.max(n.minHeight,Math.min(f,n.maxHeight))),this._origHint=r,this._sizeHint=new i(c,u),this._minSize=new i(p,d),this._maxSize=new i(l,f)},t}();e.WidgetItem=n}(e=t.widgets||(t.widgets={}))}(phosphor||(phosphor={}));var __extends=this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);i.prototype=e.prototype,t.prototype=new i},phosphor;!function(t){var e;!function(e){function i(t){return 0===t||1===t}var n=t.collections.algorithm,r=t.utility.Size,o=function(t){function o(e,i){void 0===i&&(i=8),t.call(this),this._dirty=!0,this._fixedSpace=0,this._lastSpaceIndex=-1,this._minSize=null,this._maxSize=null,this._sizeHint=null,this._items=[],this._sizers=[],this._direction=e,this._spacing=Math.max(0,i)}return __extends(o,t),o.prototype.dispose=function(){this._items=null,this._sizers=null,t.prototype.dispose.call(this)},Object.defineProperty(o.prototype,"direction",{get:function(){return this._direction},set:function(t){t!==this._direction&&(i(this._direction)!==i(t)&&this._items.forEach(function(t){t instanceof e.SpacerItem&&t.transpose()}),this._direction=t,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"spacing",{get:function(){return this._spacing},set:function(t){t=Math.max(0,t),t!==this._spacing&&(this._spacing=t,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"count",{get:function(){return this._items.length},enumerable:!0,configurable:!0}),o.prototype.itemAt=function(t){return this._items[t]},o.prototype.removeAt=function(t){var e=n.removeAt(this._items,t);return n.removeAt(this._sizers,t),e&&this.invalidate(),e},o.prototype.addWidget=function(t,e,i){return this.insertWidget(this.count,t,e,i)},o.prototype.insertWidget=function(t,i,n,r){return void 0===n&&(n=0),void 0===r&&(r=0),this.remove(i),this.ensureParent(i),this._insert(t,new e.WidgetItem(i,r),n)},o.prototype.addSpacing=function(t){return this.insertSpacing(this.count,t)},o.prototype.insertSpacing=function(t,n){var r;return r=i(this._direction)?new e.SpacerItem(n,0,0,e.SizePolicy.Minimum):new e.SpacerItem(0,n,e.SizePolicy.Minimum,0),this._insert(t,r,0)},o.prototype.addStretch=function(t){return this.insertStretch(this.count,t)},o.prototype.insertStretch=function(t,n){var r;return r=i(this._direction)?new e.SpacerItem(0,0,e.SizePolicy.Expanding,e.SizePolicy.Minimum):new e.SpacerItem(0,0,e.SizePolicy.Minimum,e.SizePolicy.Expanding),this._insert(t,r,n)},o.prototype.stretch=function(t){var e="number"==typeof t?t:this.indexOf(t),i=this._sizers[e];return i?i.stretch:-1},o.prototype.setStretch=function(t,e){var i="number"==typeof t?t:this.indexOf(t),n=this._sizers[i];return n?(e=Math.max(0,0|e),n.stretch!==e&&(n.stretch=e,this.invalidate()),!0):!1},o.prototype.invalidate=function(){this._dirty=!0,t.prototype.invalidate.call(this)},o.prototype.sizeHint=function(){return this._dirty&&this._setupGeometry(),this._sizeHint},o.prototype.minSize=function(){return this._dirty&&this._setupGeometry(),this._minSize},o.prototype.maxSize=function(){return this._dirty&&this._setupGeometry(),this._maxSize},o.prototype.layout=function(t,n,r,o){var s=this._items;if(0!==s.length){this._dirty&&this._setupGeometry();var a=this._direction,h=this._sizers,c=this._lastSpaceIndex,u=i(a)?r:o;e.layoutCalc(h,Math.max(0,u-this._fixedSpace));var p=!1,d=this._spacing,l=s.length;if(0===a)for(var f=0;l>f;++f){var _=s[f];if(!_.isHidden){p&&c>=f&&(t+=d);var v=h[f].size;_.setGeometry(t,n,v,o),p=_.isWidget,t+=v}}else if(2===a)for(var f=0;l>f;++f){var _=s[f];if(!_.isHidden){p&&c>=f&&(n+=d);var v=h[f].size;_.setGeometry(t,n,r,v),p=_.isWidget,n+=v}}else if(1===a){t+=r;for(var f=0;l>f;++f){var _=s[f];if(!_.isHidden){p&&c>=f&&(t-=d);var v=h[f].size;_.setGeometry(t-v,n,v,o),p=_.isWidget,t-=v}}}else{n+=o;for(var f=0;l>f;++f){var _=s[f];if(!_.isHidden){p&&c>=f&&(n-=d);var v=h[f].size;_.setGeometry(t,n-v,r,v),p=_.isWidget,n-=v}}}}},o.prototype._setupGeometry=function(){if(this._dirty){this._dirty=!1;var t=this.parent;if(!t)return this._sizeHint=r.Zero,this._minSize=r.Zero,this._maxSize=r.Zero,void(this._fixedSpace=0);for(var e=-1,n=this._items,o=n.length,s=0;o>s;++s){var a=n[s];a.invalidate(),a.isWidget&&!a.isHidden&&(e=s)}var h,c,u=0,p=0,d=0,l=0,f=0,_=!1,v=this._direction,m=this._spacing,y=this._sizers;if(i(v)){c=1/0,h=o>0?0:1/0;for(var s=0;o>s;++s){var a=n[s],g=y[s];if(a.isHidden)g.sizeHint=0,g.minSize=0,g.maxSize=0,g.expansive=!1;else{var b=a.sizeHint(),x=a.minSize(),w=a.maxSize();p=Math.max(p,b.height),l=Math.max(l,x.height),c=Math.min(c,w.height),u+=b.width,d+=x.width,h+=w.width,g.sizeHint=b.width,g.minSize=x.width,g.maxSize=w.width,g.expansive=a.expandHorizontal,_&&e>=s&&(f+=m),_=a.isWidget}}u+=f,d+=f,h+=f}else{h=1/0,c=o>0?0:1/0;for(var s=0;o>s;++s){var a=n[s],g=y[s];if(a.isHidden)g.sizeHint=0,g.minSize=0,g.maxSize=0,g.expansive=!1;else{var b=a.sizeHint(),x=a.minSize(),w=a.maxSize();u=Math.max(u,b.width),d=Math.max(d,x.width),h=Math.min(h,w.width),p+=b.height,l+=x.height,c+=w.height,g.sizeHint=b.height,g.minSize=x.height,g.maxSize=w.height,g.expansive=a.expandVertical,_&&e>=s&&(f+=m),_=a.isWidget}}p+=f,l+=f,c+=f}var z=t.boxSizing,S=z.horizontalSum,M=z.verticalSum;u+=S,p+=M,d+=S,l+=M,h+=S,c+=M,this._sizeHint=new r(u,p),this._minSize=new r(d,l),this._maxSize=new r(h,c),this._fixedSpace=f,this._lastSpaceIndex=e}},o.prototype._insert=function(t,i,r){var o=new e.LayoutSizer;return o.stretch=Math.max(0,0|r),t=n.insert(this._items,t,i),n.insert(this._sizers,t,o),this.invalidate(),t},o}(e.Layout);e.BoxLayout=o}(e=t.widgets||(t.widgets={}))}(phosphor||(phosphor={}));var __extends=this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);i.prototype=e.prototype,t.prototype=new i},phosphor;!function(t){var e;!function(e){var i=t.core.NodeBase,n="p-SplitHandle",r="p-SplitHandle-overlay",o="p-mod-horizontal",s="p-mod-vertical",a="p-mod-hidden",h=function(t){function e(e){t.call(this),this._hidden=!1,this.addClass(n),this._orientation=e,this.addClass(0===e?o:s)}return __extends(e,t),e.createNode=function(){var t=document.createElement("div"),e=document.createElement("div");return e.className=r,t.appendChild(e),t},Object.defineProperty(e.prototype,"hidden",{get:function(){return this._hidden},set:function(t){t!==this._hidden&&(this._hidden=t,t?this.addClass(a):this.removeClass(a))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"orientation",{get:function(){return this._orientation},set:function(t){t!==this._orientation&&(this._orientation=t,0===t?(this.removeClass(s),this.addClass(o)):(this.removeClass(o),this.addClass(s)))},enumerable:!0,configurable:!0}),e}(i);e.SplitHandle=h}(e=t.widgets||(t.widgets={}))}(phosphor||(phosphor={}));var __extends=this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);i.prototype=e.prototype,t.prototype=new i},phosphor;!function(t){var e;!function(e){function i(t){for(var e=0,i=t.length;i>e;++e){var n=t[e];n.size>0&&(n.sizeHint=n.size)}}function n(t,e,i){for(var n=0,r=0;e>=r;++r){var o=t[r];n+=o.maxSize-o.size}for(var s=0,r=e+1,a=t.length;a>r;++r){var o=t[r];s+=o.size-o.minSize}i=Math.min(i,n,s);for(var h=i,r=e;r>=0&&h>0;--r){var o=t[r],c=o.maxSize-o.size;c>=h?(o.sizeHint=o.size+h,h=0):(o.sizeHint=o.size+c,h-=c)}for(var u=i,r=e+1,a=t.length;a>r&&u>0;++r){var o=t[r],c=o.size-o.minSize;c>=u?(o.sizeHint=o.size-u,u=0):(o.sizeHint=o.size-c,u-=c)}}function r(t){var e=t.length;if(0===e)return[];for(var i=0,n=0;e>n;++n)i+=t[n];var r=new Array(e);if(0===i)for(var n=0;e>n;++n)r[n]=1/e;else for(var n=0;e>n;++n)r[n]=t[n]/i;return r}var o=t.collections.algorithm,s=t.utility.Size,a=function(t){function a(e){t.call(this),this._dirty=!0,this._handleSize=3,this._fixedSpace=0,this._minSize=null,this._maxSize=null,this._sizeHint=null,this._items=[],this._sizers=[],this._orientation=e}return __extends(a,t),a.prototype.dispose=function(){this._items=null,this._sizers=null,t.prototype.dispose.call(this)},Object.defineProperty(a.prototype,"orientation",{get:function(){return this._orientation},set:function(t){t!==this._orientation&&(this._orientation=t,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"handleSize",{get:function(){return this._handleSize},set:function(t){t=Math.max(0,0|t),t!==this._handleSize&&(this._handleSize=t,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"count",{get:function(){return this._items.length},enumerable:!0,configurable:!0}),a.prototype.sizes=function(){return r(this._sizers.map(function(t){return t.size}))},a.prototype.setSizes=function(t){var e=this.parent;if(e){var i,n=e.boxSizing;i=0===this._orientation?e.width-n.horizontalSum-this._fixedSpace:e.height-n.verticalSum-this._fixedSpace;for(var o=this._sizers,s=r(t),a=Math.min(o.length,s.length),h=0;a>h;++h){var c=Math.round(s[h]*i),u=o[h];u.size=c,u.sizeHint=c}this.refresh()}},a.prototype.handleAt=function(t){var e=this._items[t];return e?e.handle:void 0},a.prototype.moveHandle=function(t,e){var r=this._items[t];if(r&&!r.handle.hidden){var o;if(o=0===this._orientation?e-r.handle.node.offsetLeft:e-r.handle.node.offsetTop,0!==o){var s=this._sizers;i(s),o>0?n(s,t,o):(s.reverse(),n(s,s.length-(t+2),-o),s.reverse()),this.refresh()}}},a.prototype.itemAt=function(t){return this._items[t]},a.prototype.removeAt=function(t){var e=o.removeAt(this._items,t);if(o.removeAt(this._sizers,t),e){var i=e.handle.node,n=i.parentNode;n&&n.removeChild(i),this.invalidate()}return e},a.prototype.addWidget=function(t,e,i){return this.insertWidget(this.count,t,e,i)},a.prototype.insertWidget=function(t,i,n,r){void 0===n&&(n=0),void 0===r&&(r=0),this.remove(i),this.ensureParent(i);var s=new e.SplitHandle(this._orientation),a=new h(s,i,r),c=new e.LayoutSizer;return c.stretch=Math.max(0,0|n),t=o.insert(this._items,t,a),o.insert(this._sizers,t,c),this.invalidate(),t},a.prototype.stretch=function(t){var e="number"==typeof t?t:this.indexOf(t),i=this._sizers[e];return i?i.stretch:-1},a.prototype.setStretch=function(t,e){var i="number"==typeof t?t:this.indexOf(t),n=this._sizers[i];return n?(e=Math.max(0,0|e),n.stretch!==e&&(n.stretch=e,this.invalidate()),!0):!1},a.prototype.invalidate=function(){this._dirty=!0,t.prototype.invalidate.call(this)},a.prototype.sizeHint=function(){return this._dirty&&this._setupGeometry(),this._sizeHint},a.prototype.minSize=function(){return this._dirty&&this._setupGeometry(),this._minSize},a.prototype.maxSize=function(){return this._dirty&&this._setupGeometry(),this._maxSize},a.prototype.layout=function(t,i,n,r){var o=this._items;if(0!==o.length){this._dirty&&this._setupGeometry();var s=this._orientation,a=this._sizers,h=0===s?n:r;e.layoutCalc(a,Math.max(0,h-this._fixedSpace));var c=this._handleSize,u=o.length;if(0===s)for(var p=0;u>p;++p){var d=o[p];if(!d.isHidden){var l=a[p].size,f=d.handle.node.style;d.setGeometry(t,i,l,r),f.top=i+"px",f.left=t+l+"px",f.width=c+"px",f.height=r+"px",t+=l+c}}else for(var p=0;u>p;++p){var d=o[p];if(!d.isHidden){var l=a[p].size,f=d.handle.node.style;d.setGeometry(t,i,n,l),f.top=i+l+"px",f.left=t+"px",f.width=n+"px",f.height=c+"px",i+=l+c}}}},a.prototype._setupGeometry=function(){if(this._dirty){this._dirty=!1;var t=this.parent;if(!t)return this._sizeHint=s.Zero,this._minSize=s.Zero,this._maxSize=s.Zero,void(this._fixedSpace=0);for(var e=!1,n=t.node,r=this._orientation,o=this._items,a=o.length,h=a-1;h>=0;--h){var c=o[h],u=c.handle,p=u.node;c.invalidate(),u.orientation=r,u.hidden=c.isHidden,p.parentNode!==n&&n.appendChild(p),e||c.isHidden||(c.handle.hidden=!0,e=!0)}var d,l,f=0,_=0,v=0,m=0,y=0,g=this._handleSize,b=this._sizers;if(i(b),0===r){l=1/0,d=a>0?0:1/0;for(var h=0;a>h;++h){var c=o[h],x=b[h];if(c.isHidden)x.minSize=0,x.maxSize=0,x.expansive=!1;else{var w=c.sizeHint(),z=c.minSize(),S=c.maxSize();_=Math.max(_,w.height),m=Math.max(m,z.height),l=Math.min(l,S.height),f+=w.width,v+=z.width,d+=S.width,x.minSize=z.width,x.maxSize=S.width,x.expansive=c.expandHorizontal,0===x.sizeHint&&(x.sizeHint=w.width),c.handle.hidden||(y+=g)}}f+=y,v+=y,d+=y}else{d=1/0,l=a>0?0:1/0;for(var h=0;a>h;++h){var c=o[h],x=b[h];if(c.isHidden)x.minSize=0,x.maxSize=0,x.expansive=!1;else{var w=c.sizeHint(),z=c.minSize(),S=c.maxSize();f=Math.max(f,w.width),v=Math.max(v,z.width),d=Math.min(d,S.width),_+=w.height,m+=z.height,l+=S.height,x.minSize=z.height,x.maxSize=S.height,x.expansive=c.expandVertical,0===x.sizeHint&&(x.sizeHint=w.height),c.handle.hidden||(y+=g)}}_+=y,m+=y,l+=y}var M=t.boxSizing,P=M.horizontalSum,O=M.verticalSum;f+=P,_+=O,v+=P,m+=O,d+=P,l+=O,this._sizeHint=new s(f,_),this._minSize=new s(v,m),this._maxSize=new s(d,l),this._fixedSpace=y}},a}(e.Layout);e.SplitLayout=a;var h=function(t){function e(e,i,n){t.call(this,i,n),this._handle=e}return __extends(e,t),Object.defineProperty(e.prototype,"handle",{get:function(){return this._handle},enumerable:!0,configurable:!0}),e}(e.WidgetItem);e.SplitItem=h}(e=t.widgets||(t.widgets={}))}(phosphor||(phosphor={}));var __extends=this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);i.prototype=e.prototype,t.prototype=new i},phosphor;!function(t){var e;!function(e){var i=t.collections.algorithm,n=t.core.Signal,r=t.core.emit,o=t.utility.Pair,s=t.utility.Size,a=function(t){function a(){t.call(this),this._dirty=!0,this._sizeHint=null,this._minSize=null,this._maxSize=null,this._items=[],this._currentItem=null}return __extends(a,t),a.prototype.dispose=function(){this._currentItem=null,this._items=null,t.prototype.dispose.call(this)},Object.defineProperty(a.prototype,"currentIndex",{get:function(){return i.indexOf(this._items,this._currentItem)},set:function(t){var e=this._currentItem,i=this.itemAt(t)||null;e!==i&&(this._currentItem=i,e&&e.widget.hide(),i&&i.widget.show(),this.refresh())},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"currentWidget",{get:function(){return this._currentItem.widget},set:function(t){this.currentIndex=this.indexOf(t)},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"count",{get:function(){return this._items.length},enumerable:!0,configurable:!0}),a.prototype.itemAt=function(t){return this._items[t]},a.prototype.removeAt=function(t){var e=i.removeAt(this._items,t);return e?(e===this._currentItem&&(this._currentItem=null,e.widget.hide()),r(this,a.widgetRemoved,new o(t,e.widget)),e):void 0},a.prototype.addWidget=function(t,e){return this.insertWidget(this.count,t,e)},a.prototype.insertWidget=function(t,n,r){return void 0===r&&(r=0),n.hide(),this.remove(n),this.ensureParent(n),i.insert(this._items,t,new e.WidgetItem(n,r))},a.prototype.moveWidget=function(t,e){return i.move(this._items,t,e)},a.prototype.invalidate=function(){this._dirty=!0,t.prototype.invalidate.call(this)},a.prototype.sizeHint=function(){return this._dirty&&this._setupGeometry(),this._sizeHint},a.prototype.minSize=function(){return this._dirty&&this._setupGeometry(),this._minSize},a.prototype.maxSize=function(){return this._dirty&&this._setupGeometry(),this._maxSize},a.prototype.layout=function(t,e,i,n){this._dirty&&this._setupGeometry(),null!==this._currentItem&&this._currentItem.setGeometry(t,e,i,n)},a.prototype._setupGeometry=function(){if(this._dirty){this._dirty=!1;var t=this.parent;if(!t)return this._sizeHint=s.Zero,this._minSize=s.Zero,void(this._maxSize=s.Zero);var e=0,i=0,n=0,r=0,o=1/0,a=1/0,h=this._currentItem;if(null!==h){h.invalidate();var c=h.sizeHint(),u=h.minSize(),p=h.maxSize();e=Math.max(e,c.width),i=Math.max(i,c.height),n=Math.max(n,u.width),r=Math.max(r,u.height),o=Math.min(o,p.width),a=Math.min(a,p.height)}var d=t.boxSizing,l=d.horizontalSum,f=d.verticalSum;e+=l,i+=f,n+=l,r+=f,o+=l,a+=f,this._sizeHint=new s(e,i),this._minSize=new s(n,r),this._maxSize=new s(o,a)}},a.widgetRemoved=new n,a}(e.Layout);e.StackedLayout=a}(e=t.widgets||(t.widgets={}))}(phosphor||(phosphor={}));var __extends=this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);i.prototype=e.prototype,t.prototype=new i},phosphor;!function(t){var e;!function(e){function i(t){b(t,C);for(var e=0;e<t.childCount;++e){var n=t.childAt(e);n.isHidden||i(n)}
}function n(t){t.setFlag(4),b(t,k);for(var e=0;e<t.childCount;++e){var i=t.childAt(e);i.isHidden||n(i)}}function r(t){b(t,T);for(var e=0;e<t.childCount;++e){var i=t.childAt(e);i.isHidden||r(i)}}function o(t){t.clearFlag(4),b(t,A);for(var e=0;e<t.childCount;++e){var i=t.childAt(e);i.isHidden||o(i)}}function s(t){b(t,W);for(var e=0;e<t.childCount;++e)s(t.childAt(e))}function a(t){var e=t.parent;t.isHidden||e&&!e.isVisible||t.setFlag(4),t.setFlag(1),b(t,j);for(var i=0;i<t.childCount;++i)a(t.childAt(i))}function h(t){b(t,F);for(var e=0;e<t.childCount;++e)h(t.childAt(e))}function c(t){t.clearFlag(4),t.clearFlag(1),b(t,L);for(var e=0;e<t.childCount;++e)c(t.childAt(e))}var u=t.collections.algorithm,p=t.core.Message,d=t.core.NodeBase,l=t.core.Signal,f=t.core.clearMessageData,_=t.core.disconnect,v=t.core.emit,m=t.core.installMessageFilter,y=t.core.postMessage,g=t.core.removeMessageFilter,b=t.core.sendMessage,x=t.utility.Size,w=t.utility.createBoxSizing,z="p-Widget",S="p-mod-hidden",M=new p("layout-changed"),P=new p("layout-request"),O=new p("update-request"),I=new p("parent-changed"),C=new p("before-show"),k=new p("after-show"),T=new p("before-hide"),A=new p("after-hide"),W=new p("before-attach"),j=new p("after-attach"),F=new p("before-detach"),L=new p("after-detach"),H=new p("close"),B=function(t){function p(){t.call(this),this._x=0,this._y=0,this._width=0,this._height=0,this._wflags=0,this._layout=null,this._parent=null,this._children=[],this._boxSizing=null,this._sizePolicy=E,this.addClass(z)}return __extends(p,t),p.prototype.dispose=function(){this.setFlag(8),v(this,p.disposed,void 0),_(this,null,null,null),_(null,null,this,null),f(this);var i=this._layout;i&&(this._layout=null,i.dispose());var n=this._parent;n?(this._parent=null,u.remove(n._children,this),b(n,new e.ChildMessage("child-removed",this))):this.isAttached&&this.detach();for(var r=this._children,o=0;o<r.length;++o){var s=r[o];r[o]=null,s._parent=null,s.dispose()}r.length=0,t.prototype.dispose.call(this)},Object.defineProperty(p.prototype,"x",{get:function(){return this._x},set:function(t){this.move(t,this._y)},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"y",{get:function(){return this._y},set:function(t){this.move(this._x,t)},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"width",{get:function(){return this._width},set:function(t){this.resize(t,this._height)},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"height",{get:function(){return this._height},set:function(t){this.resize(this._width,t)},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"horizontalSizePolicy",{get:function(){return this._sizePolicy>>16},set:function(t){this.setSizePolicy(t,this.verticalSizePolicy)},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"verticalSizePolicy",{get:function(){return 65535&this._sizePolicy},set:function(t){this.setSizePolicy(this.horizontalSizePolicy,t)},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"boxSizing",{get:function(){return this._boxSizing||(this._boxSizing=w(this.node)),this._boxSizing},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"isAttached",{get:function(){return this.testFlag(1)},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"isDisposed",{get:function(){return this.testFlag(8)},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"isHidden",{get:function(){return this.testFlag(2)},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"isVisible",{get:function(){return this.testFlag(4)},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"layout",{get:function(){return this._layout},set:function(t){t=t||null;var e=this._layout;if(e!==t){if(this.testFlag(16))throw new Error("cannot change widget layout");if(t&&t.parent)throw new Error("layout already installed on a widget");e&&(this._layout=null,g(this,e),e.dispose()),t&&(this._layout=t,m(this,t),t.parent=this),b(this,M)}},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"parent",{get:function(){return this._parent},set:function(t){t=t||null;var i=this._parent;i!==t&&(i&&(this._parent=null,u.remove(i._children,this),b(i,new e.ChildMessage("child-removed",this))),t&&(this._parent=t,t._children.push(this),b(t,new e.ChildMessage("child-added",this))),b(this,I))},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"childCount",{get:function(){return this._children.length},enumerable:!0,configurable:!0}),p.prototype.childAt=function(t){return this._children[t]},p.prototype.testFlag=function(t){return 0!==(this._wflags&t)},p.prototype.setFlag=function(t){this._wflags|=t},p.prototype.clearFlag=function(t){this._wflags&=~t},p.prototype.show=function(){if(this.isHidden){var t=this._parent;!this.isAttached||t&&!t.isVisible?(this.removeClass(S),this.clearFlag(2)):(i(this),this.removeClass(S),this.clearFlag(2),n(this)),t&&b(t,new e.ChildMessage("child-shown",this)),this.updateGeometry()}},p.prototype.hide=function(){if(!this.isHidden){var t=this._parent;!this.isAttached||t&&!t.isVisible?(this.addClass(S),this.setFlag(2)):(r(this),this.addClass(S),this.setFlag(2),o(this)),t&&b(t,new e.ChildMessage("child-hidden",this)),this.updateGeometry(!0)}},p.prototype.setVisible=function(t){t?this.show():this.hide()},p.prototype.close=function(){b(this,H)},p.prototype.attach=function(t){if(this._parent)throw new Error("cannot attach a non-root widget to the DOM");s(this),t.appendChild(this.node),a(this)},p.prototype.detach=function(){if(this._parent)throw new Error("cannot dettach a non-root widget from the DOM");var t=this.node.parentNode;t&&(h(this),t.removeChild(this.node),c(this))},p.prototype.fit=function(t,e,i){if(this._parent)throw new Error("cannot fit a non-root widget");var n=this.node.parentNode;if(n){void 0===t&&(t=n.offsetWidth),void 0===e&&(e=n.offsetHeight),void 0===i&&(i=w(n));var r=i.paddingLeft,o=i.paddingTop,s=t-i.horizontalSum,a=e-i.verticalSum;this.setGeometry(r,o,s,a)}},p.prototype.sizeHint=function(){return this._layout?this._layout.sizeHint():x.Zero},p.prototype.minSizeHint=function(){return this._layout?this._layout.minSize():x.Zero},p.prototype.maxSizeHint=function(){return this._layout?this._layout.maxSize():x.Infinite},p.prototype.invalidateBoxSizing=function(){this._boxSizing=null,this._layout?this._layout.invalidate():y(this,P),this.updateGeometry()},p.prototype.updateGeometry=function(t){void 0===t&&(t=!1);var e=this._parent;!e||this.isHidden&&!t||(e._layout?e._layout.invalidate():(y(e,P),e.updateGeometry()))},p.prototype.update=function(t){void 0===t&&(t=!1),t?b(this,O):y(this,O)},p.prototype.move=function(t,e){this.setGeometry(t,e,this._width,this._height)},p.prototype.resize=function(t,e){this.setGeometry(this._x,this._y,t,e)},p.prototype.setGeometry=function(t,i,n,r){var o=!1,s=!1,a=this._x,h=this._y,c=this._width,u=this._height,p=this.boxSizing,d=this.node.style,l=Math.max(p.minWidth,Math.min(n,p.maxWidth)),f=Math.max(p.minHeight,Math.min(r,p.maxHeight));a!==t&&(this._x=t,d.left=t+"px",o=!0),h!==i&&(this._y=i,d.top=i+"px",o=!0),c!==l&&(this._width=l,d.width=l+"px",s=!0),u!==f&&(this._height=f,d.height=f+"px",s=!0),o&&b(this,new e.MoveMessage(a,h,t,i)),s&&b(this,new e.ResizeMessage(c,u,l,f))},p.prototype.setSizePolicy=function(t,e){var i=t<<16|e;i!==this._sizePolicy&&(this._sizePolicy=i,this.updateGeometry())},p.prototype.processMessage=function(t){switch(t.type){case"move":this.onMove(t);break;case"resize":this.onResize(t);break;case"update-request":this.onUpdateRequest(t);break;case"child-added":this.onChildAdded(t);break;case"child-removed":this.onChildRemoved(t);break;case"before-show":this.onBeforeShow(t);break;case"after-show":this.onAfterShow(t);break;case"before-hide":this.onBeforeHide(t);break;case"after-hide":this.onAfterHide(t);break;case"before-attach":this._boxSizing=null,this.onBeforeAttach(t);break;case"after-attach":this.onAfterAttach(t);break;case"before-detach":this.onBeforeDetach(t);break;case"after-detach":this.onAfterDetach(t);break;case"close":this.onClose(t)}},p.prototype.compressMessage=function(t,e){return"layout-request"===t.type||"update-request"===t.type?e.some(function(e){return e.type===t.type}):!1},p.prototype.onClose=function(t){this.parent=null},p.prototype.onChildAdded=function(t){var e=t.child;this.isAttached?(s(e),this.node.appendChild(e.node),a(e)):this.node.appendChild(e.node)},p.prototype.onChildRemoved=function(t){var e=t.child;this.isAttached?(h(e),this.node.removeChild(e.node),c(e)):this.node.removeChild(e.node)},p.prototype.onMove=function(t){},p.prototype.onResize=function(t){},p.prototype.onUpdateRequest=function(t){},p.prototype.onBeforeShow=function(t){},p.prototype.onAfterShow=function(t){},p.prototype.onBeforeHide=function(t){},p.prototype.onAfterHide=function(t){},p.prototype.onBeforeAttach=function(t){},p.prototype.onAfterAttach=function(t){},p.prototype.onBeforeDetach=function(t){},p.prototype.onAfterDetach=function(t){},p.disposed=new l,p}(d);e.Widget=B;var E=e.SizePolicy.Preferred<<16|e.SizePolicy.Preferred}(e=t.widgets||(t.widgets={}))}(phosphor||(phosphor={}));var __extends=this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);i.prototype=e.prototype,t.prototype=new i},phosphor;!function(t){var e;!function(t){var e=function(t){function e(e){t.call(this),this.layout=e,this.setFlag(16)}return __extends(e,t),Object.defineProperty(e.prototype,"count",{get:function(){return this.layout.count},enumerable:!0,configurable:!0}),e.prototype.indexOf=function(t){return this.layout.indexOf(t)},e.prototype.widgetAt=function(t){return this.layout.widgetAt(t)},e.prototype.alignment=function(t){return this.layout.alignment(t)},e.prototype.setAlignment=function(t,e){return this.layout.setAlignment(t,e)},e}(t.Widget);t.Panel=e}(e=t.widgets||(t.widgets={}))}(phosphor||(phosphor={}));var __extends=this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);i.prototype=e.prototype,t.prototype=new i},phosphor;!function(t){var e;!function(t){var e="p-BoxPanel",i=function(i){function n(n,r){void 0===n&&(n=2),void 0===r&&(r=8),i.call(this,new t.BoxLayout(n,r)),this.addClass(e)}return __extends(n,i),Object.defineProperty(n.prototype,"direction",{get:function(){return this.layout.direction},set:function(t){this.layout.direction=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"spacing",{get:function(){return this.layout.spacing},set:function(t){this.layout.spacing=t},enumerable:!0,configurable:!0}),n.prototype.addWidget=function(t,e,i){return this.layout.addWidget(t,e,i)},n.prototype.insertWidget=function(t,e,i,n){return this.layout.insertWidget(t,e,i,n)},n.prototype.addSpacing=function(t){return this.layout.addSpacing(t)},n.prototype.insertSpacing=function(t,e){return this.layout.insertSpacing(t,e)},n.prototype.addStretch=function(t){return this.layout.addStretch(t)},n.prototype.insertStretch=function(t,e){return this.layout.insertStretch(t,e)},n.prototype.stretch=function(t){return this.layout.stretch(t)},n.prototype.setStretch=function(t,e){return this.layout.setStretch(t,e)},n}(t.Panel);t.BoxPanel=i}(e=t.widgets||(t.widgets={}))}(phosphor||(phosphor={}));var __extends=this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);i.prototype=e.prototype,t.prototype=new i},phosphor;!function(t){var e;!function(e){var i=t.utility.overrideCursor,n="p-SplitPanel",r=function(t){function r(i){void 0===i&&(i=0),t.call(this,new e.SplitLayout(i)),this._pressData=null,this.addClass(n)}return __extends(r,t),r.prototype.dispose=function(){this._releaseMouse(),t.prototype.dispose.call(this)},Object.defineProperty(r.prototype,"orientation",{get:function(){return this.layout.orientation},set:function(t){this.layout.orientation=t},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"handleSize",{get:function(){return this.layout.handleSize},set:function(t){this.layout.handleSize=t},enumerable:!0,configurable:!0}),r.prototype.sizes=function(){return this.layout.sizes()},r.prototype.setSizes=function(t){this.layout.setSizes(t)},r.prototype.addWidget=function(t,e,i){return this.layout.addWidget(t,e,i)},r.prototype.insertWidget=function(t,e,i,n){return this.layout.insertWidget(t,e,i,n)},r.prototype.stretch=function(t){return this.layout.stretch(t)},r.prototype.setStretch=function(t,e){return this.layout.setStretch(t,e)},r.prototype.handleEvent=function(t){switch(t.type){case"mousedown":this._evtMouseDown(t);break;case"mouseup":this._evtMouseUp(t);break;case"mousemove":this._evtMouseMove(t)}},r.prototype.onAfterAttach=function(t){this.node.addEventListener("mousedown",this)},r.prototype.onAfterDetach=function(t){this.node.removeEventListener("mousedown",this)},r.prototype._evtMouseDown=function(t){if(0===t.button){var e=this._findHandle(t.target);if(e){t.preventDefault(),t.stopPropagation(),document.addEventListener("mouseup",this,!0),document.addEventListener("mousemove",this,!0);var n,r=e.handle.node,o=r.getBoundingClientRect();n=0===this.orientation?t.clientX-o.left:t.clientY-o.top;var s=i(window.getComputedStyle(r).cursor);this._pressData={index:e.index,delta:n,cursor:s}}}},r.prototype._evtMouseUp=function(t){0===t.button&&(t.preventDefault(),t.stopPropagation(),this._releaseMouse())},r.prototype._evtMouseMove=function(t){t.preventDefault(),t.stopPropagation();var e,i=this._pressData,n=this.layout,r=this.node.getBoundingClientRect();e=0===n.orientation?t.clientX-i.delta-r.left:t.clientY-i.delta-r.top,n.moveHandle(i.index,e)},r.prototype._findHandle=function(t){for(var e=this.layout,i=0,n=e.count;n>i;++i){var r=e.handleAt(i);if(r.node.contains(t))return{index:i,handle:r}}return null},r.prototype._releaseMouse=function(){this._pressData&&(this._pressData.cursor.dispose(),this._pressData=null,document.removeEventListener("mouseup",this,!0),document.removeEventListener("mousemove",this,!0))},r}(e.Panel);e.SplitPanel=r}(e=t.widgets||(t.widgets={}))}(phosphor||(phosphor={}));var __extends=this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);i.prototype=e.prototype,t.prototype=new i},phosphor;!function(t){var e;!function(e){var i=t.core.Signal,n=t.core.connect,r=t.core.emit,o="p-StackedPanel",s=function(t){function s(){t.call(this,new e.StackedLayout),this.addClass(o);var i=this.layout;n(i,e.StackedLayout.widgetRemoved,this,this._p_widgetRemoved)}return __extends(s,t),Object.defineProperty(s.prototype,"currentIndex",{get:function(){return this.layout.currentIndex},set:function(t){this.layout.currentIndex=t},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"currentWidget",{get:function(){return this.layout.currentWidget},set:function(t){this.layout.currentWidget=t},enumerable:!0,configurable:!0}),s.prototype.addWidget=function(t,e){return this.layout.addWidget(t,e)},s.prototype.insertWidget=function(t,e,i){return this.layout.insertWidget(t,e,i)},s.prototype.moveWidget=function(t,e){return this.layout.moveWidget(t,e)},s.prototype._p_widgetRemoved=function(t,e){r(this,s.widgetRemoved,e)},s.widgetRemoved=new i,s}(e.Panel);e.StackedPanel=s}(e=t.widgets||(t.widgets={}))}(phosphor||(phosphor={}));var __extends=this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);i.prototype=e.prototype,t.prototype=new i},phosphor;!function(t){var e;!function(e){function i(t,e){e?t.addClass(l):t.removeClass(l)}function n(t,e){for(var i=0,r=t.count;r>i;++i){var o,s=t.widgetAt(i);if(o=s instanceof v?e(s):n(s,e),void 0!==o)return o}return void 0}function r(t,e){var i=e(t);if(void 0!==i)return i;for(var n=0,o=t.count;o>n;++n){var s=t.widgetAt(n);if(s instanceof m&&(i=r(s,e),void 0!==i))return i}return void 0}var o=t.collections.algorithm,s=t.core.connect,a=t.utility.hitTest,h=t.utility.overrideCursor,c="p-DockArea",u="p-DockSplitter",p="p-DockPanel",d="p-DockPanel-overlay",l="p-mod-floating",f=function(t){function u(){t.call(this),this._handleSize=3,this._tabWidth=175,this._tabOverlap=0,this._minTabWidth=45,this._ignoreRemoved=!1,this._root=null,this._dragData=null,this._items=[],this.addClass(c),this._root=this._createSplitter(0);var i=new e.BoxLayout(2,0);i.addWidget(this._root),this.layout=i,this.setFlag(16)}return __extends(u,t),u.prototype.dispose=function(){this._abortDrag(),this._root=null,this._items=null,t.prototype.dispose.call(this)},Object.defineProperty(u.prototype,"tabWidth",{get:function(){return this._tabWidth},set:function(t){t=Math.max(0,t),t!==this._tabWidth&&(this._tabWidth=t,n(this._root,function(e){e.tabBar.tabWidth=t}))},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"minTabWidth",{get:function(){return this._minTabWidth},set:function(t){t=Math.max(0,t),t!==this._minTabWidth&&(this._minTabWidth=t,n(this._root,function(e){e.tabBar.minTabWidth=t}))},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"tabOverlap",{get:function(){return this._tabOverlap},set:function(t){t!==this._tabOverlap&&(this._tabOverlap=t,n(this._root,function(e){e.tabBar.tabOverlap=t}))},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"handleSize",{get:function(){return this._handleSize},set:function(t){t!==this._handleSize&&(this._handleSize=t,r(this._root,function(e){e.handleSize=t}))},enumerable:!0,configurable:!0}),u.prototype.addWidget=function(t,e,i){switch(e){case 0:this._addWidget(t,1,!1);break;case 1:this._addWidget(t,0,!1);break;case 2:this._addWidget(t,0,!0);break;case 3:this._addWidget(t,1,!0);break;case 4:this._splitWidget(t,i,1,!1);break;case 5:this._splitWidget(t,i,0,!1);break;case 6:this._splitWidget(t,i,0,!0);break;case 7:this._splitWidget(t,i,1,!0);break;case 8:this._tabifyWidget(t,i,!1);break;case 9:this._tabifyWidget(t,i,!0);break;default:this._addWidget(t,0,!1)}},u.prototype.handleEvent=function(t){switch(t.type){case"mousemove":this._evtMouseMove(t);break;case"mouseup":this._evtMouseUp(t);break;case"contextmenu":t.preventDefault(),t.stopPropagation()}},u.prototype._evtMouseMove=function(t){t.preventDefault(),t.stopPropagation();var e=this._dragData;if(e){var r=t.clientX,o=t.clientY,s=n(this._root,function(t){return a(t.node,r,o)?t:void 0});e.lastHitPanel&&e.lastHitPanel!==s&&e.lastHitPanel.hideOverlay(),e.lastHitPanel=null;var h=r-e.offsetX,c=o-e.offsetY,u=e.item,p=u.widget.tab,d=p.node.style;if(!s)return d.left=h+"px",void(d.top=c+"px");if(!a(s.tabBar.node,r,o))return e.lastHitPanel=s,(s!==u.panel||s.tabBar.count>0)&&s.showOverlay(r,o),d.left=h+"px",void(d.top=c+"px");s.hideOverlay(),s!==u.panel&&(e.tempPanel=s,e.tempTab=s.tabBar.currentTab),i(p,!1),d.top="",d.left="",d.width="",s.tabBar.attachTab(p,r),document.removeEventListener("mousemove",this,!0)}},u.prototype._evtMouseUp=function(t){if(0===t.button){t.preventDefault(),t.stopPropagation(),document.removeEventListener("mouseup",this,!0),document.removeEventListener("mousemove",this,!0),document.removeEventListener("contextmenu",this,!0);var e=this._dragData;if(e){this._dragData=null,e.cursorGrab.dispose(),e.lastHitPanel&&e.lastHitPanel.hideOverlay();var n=e.item,r=n.panel,o=r.tabBar,s=o.count,a=n.widget.tab;if(e.tempPanel)if(this._ignoreRemoved=!0,n.panel=e.tempPanel,n.panel.stackedPanel.addWidget(n.widget),n.panel.stackedPanel.currentWidget=n.widget,this._ignoreRemoved=!1,0===r.stackedPanel.count)this._removePanel(r);else{var h=o.indexOf(e.prevTab);-1===h&&(h=Math.min(e.index,s-1)),o.currentIndex=h}else{var c=4,u=e.lastHitPanel;!u||u===r&&0===s||(c=u.splitModeAt(t.clientX,t.clientY));var p=a.node.style;if(4===c)return void(o.currentTab!==a&&(i(a,!1),p.top="",p.left="",p.width="",o.insertTab(e.index,a)));document.body.removeChild(a.node),i(a,!1),p.top="",p.left="",p.width="";var d=2===c||3===c,l=1===c||2===c,f=l?0:1;this._splitPanel(u,n.widget,f,d);var h=o.indexOf(e.prevTab);-1===h&&(h=Math.min(e.index,s-1)),o.currentIndex=h}}}},u.prototype._addWidget=function(t,e,i){t.parent=null;var n=this._createPanel();this._items.push({widget:t,panel:n}),n.stackedPanel.addWidget(t),n.tabBar.addTab(t.tab),this._ensureRoot(e),i?this._root.addWidget(n):this._root.insertWidget(0,n)},u.prototype._splitWidget=function(t,e,i,n){if(t!==e){var r=o.find(this._items,function(t){return t.widget===e});r&&this._splitPanel(r.panel,t,i,n)}},u.prototype._splitPanel=function(t,e,i,n){e.parent=null;var r=this._createPanel();this._items.push({widget:e,panel:r}),r.stackedPanel.addWidget(e),r.tabBar.addTab(e.tab);var s=t.parent;if(s.orientation!==i)if(s.count<=1)s.orientation=i,s.insertWidget(n?1:0,r),s.setSizes([1,1]);else{var a=s.sizes(),h=s.indexOf(t),c=this._createSplitter(i);c.addWidget(t),c.insertWidget(n?1:0,r),s.insertWidget(h,c),s.setSizes(a),c.setSizes([1,1])}else{var h=s.indexOf(t),u=n?h+1:h,a=s.sizes(),p=a[h]=a[h]/2;s.insertWidget(u,r),o.insert(a,u,p),s.setSizes(a)}},u.prototype._tabifyWidget=function(t,e,i){if(t!==e){var n=o.find(this._items,function(t){return t.widget===e});if(n){t.parent=null;var r=n.panel,s=r.tabBar.indexOf(e.tab)+(i?1:0);this._items.push({widget:t,panel:r}),r.stackedPanel.addWidget(t),r.tabBar.insertTab(s,t.tab)}}},u.prototype._ensureRoot=function(t){var e=this._root;e.orientation!==t&&(e.count<=1?e.orientation=t:(this._root=this._createSplitter(t),this._root.addWidget(e),this.layout.addWidget(this._root)))},u.prototype._createPanel=function(){var t=new v,i=t.tabBar,n=t.stackedPanel;return i.tabWidth=this._tabWidth,i.tabOverlap=this._tabOverlap,i.minTabWidth=this._minTabWidth,s(i,e.TabBar.currentChanged,this,this._p_currentChanged),s(i,e.TabBar.tabCloseRequested,this,this._p_tabCloseRequested),s(i,e.TabBar.tabDetachRequested,this,this._p_tabDetachRequested),s(n,e.StackedPanel.widgetRemoved,this,this._p_widgetRemoved),t},u.prototype._createSplitter=function(t){var e=new m(t);return e.handleSize=this._handleSize,e},u.prototype._removePanel=function(t){var e=t.parent;if(t.parent=null,setTimeout(function(){return t.dispose()},0),!(e.count>1))if(e!==this._root){var i=e.parent,n=i.sizes(),r=e.widgetAt(0),s=i.indexOf(e);if(e.parent=null,r instanceof v)i.insertWidget(s,r);else for(var a=r,h=a.sizes(),c=o.removeAt(n,s),u=0;0!==a.count;++u)i.insertWidget(s+u,a.widgetAt(0)),o.insert(n,s+u,c*h[u]);i.setSizes(n),e.dispose()}else if(1===e.count){var p=e.widgetAt(0);if(p instanceof m){var d=this.layout,l=p.sizes();this._root=p,e.parent=null,d.addWidget(p),p.setSizes(l),e.dispose()}}},u.prototype._abortDrag=function(){var t=this._dragData;if(t){if(this._dragData=null,document.removeEventListener("mouseup",this,!0),document.removeEventListener("mousemove",this,!0),document.removeEventListener("contextmenu",this,!0),t.cursorGrab.dispose(),t.lastHitPanel&&t.lastHitPanel.hideOverlay(),t.tempPanel){var e=t.tempPanel.tabBar;e.detachAt(e.currentIndex),e.currentTab=t.tempTab}var n=t.item,r=n.widget.tab,o=n.panel.tabBar;if(o.currentTab!==r){var s=r.node.style;i(r,!1),s.top="",s.left="",s.width="",o.insertTab(t.index,r)}}},u.prototype._p_currentChanged=function(t,e){var i=o.find(this._items,function(t){return t.widget.tab===e.second});i&&i.panel.tabBar===t&&(i.panel.stackedPanel.currentWidget=i.widget)},u.prototype._p_tabCloseRequested=function(t,e){var i=o.find(this._items,function(t){return t.widget.tab===e.second});i&&i.widget.close()},u.prototype._p_tabDetachRequested=function(t,e){var n=e.tab,r=o.find(this._items,function(t){return t.widget.tab===n});if(r){if(!this._dragData){var s=t.previousTab;this._dragData={item:r,index:e.index,offsetX:0,offsetY:0,prevTab:s,lastHitPanel:null,cursorGrab:null,tempPanel:null,tempTab:null}}var a=this._dragData;a.offsetX=.4*this._tabWidth|0,a.offsetY=.6*n.node.offsetHeight|0,a.cursorGrab=h("default"),r.panel.tabBar===t?(t.currentIndex=-1,t.detachAt(e.index)):(t.detachAt(e.index),t.currentTab=a.tempTab),a.tempPanel=null,a.tempTab=null;var c=n.node.style;c.left=e.clientX-a.offsetX+"px",c.top=e.clientY-a.offsetY+"px",c.width=this._tabWidth+"px",c.zIndex="",i(n,!0),document.body.appendChild(n.node),document.addEventListener("mouseup",this,!0),document.addEventListener("mousemove",this,!0),document.addEventListener("contextmenu",this,!0)}},u.prototype._p_widgetRemoved=function(t,e){if(!this._ignoreRemoved){var i=o.findIndex(this._items,function(t){return t.widget===e.second});if(-1!==i){this._abortDrag();var n=o.removeAt(this._items,i);n.panel.tabBar.removeTab(n.widget.tab),0===n.panel.stackedPanel.count&&this._removePanel(n.panel)}}},u}(e.Widget);e.DockArea=f;var _;!function(t){t[t.Top=0]="Top",t[t.Left=1]="Left",t[t.Right=2]="Right",t[t.Bottom=3]="Bottom",t[t.Invalid=4]="Invalid"}(_||(_={}));var v=function(t){function i(){t.call(this),this._overlayTimer=0,this._overlayHidden=!0,this._overlayNode=null,this.addClass(p),this._tabBar=new e.TabBar,this._stackedPanel=new e.StackedPanel,this._overlayNode=this.createOverlay();var i=new e.BoxLayout(2,0);i.addWidget(this._tabBar),i.addWidget(this._stackedPanel),this.layout=i,this.setFlag(16),this.node.appendChild(this._overlayNode)}return __extends(i,t),Object.defineProperty(i.prototype,"tabBar",{get:function(){return this._tabBar},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"stackedPanel",{get:function(){return this._stackedPanel},enumerable:!0,configurable:!0}),i.prototype.dispose=function(){this._clearOverlayTimer(),this._tabBar=null,this._stackedPanel=null,this._overlayNode=null,t.prototype.dispose.call(this)},i.prototype.splitModeAt=function(t,e){var i=this.node.getBoundingClientRect(),n=(t-i.left)/i.width,r=(e-i.top)/i.height;if(0>n||n>1||0>r||r>1)return 4;var o,s=n>.5?1-n:n,a=r>.5?1-r:r;return o=a>s?.5>=n?1:2:.5>=r?0:3},i.prototype.showOverlay=function(t,e){this._clearOverlayTimer();var i=this.boxSizing,n=i.paddingTop,r=i.paddingLeft,o=i.paddingRight,s=i.paddingBottom;switch(this.splitModeAt(t,e)){case 1:o=this.width/2;break;case 2:r=this.width/2;break;case 0:s=this.height/2;break;case 3:n=this.height/2}var a=this._overlayNode.style;if(this._overlayHidden){this._overlayHidden=!1;var h=this.node.getBoundingClientRect();a.top=e-h.top+"px",a.left=t-h.left+"px",a.right=h.right-t+"px",a.bottom=h.bottom-e+"px",a.display="",this._overlayNode.offsetWidth}a.opacity="1",a.top=n+"px",a.left=r+"px",a.right=o+"px",a.bottom=s+"px"},i.prototype.hideOverlay=function(){var t=this;this._overlayHidden||(this._clearOverlayTimer(),this._overlayHidden=!0,this._overlayNode.style.opacity="0",this._overlayTimer=setTimeout(function(){t._overlayTimer=0,t._overlayNode.style.display="none"},150))},i.prototype.createOverlay=function(){var t=document.createElement("div");return t.className=d,t.style.display="none",t},i.prototype._clearOverlayTimer=function(){this._overlayTimer&&(clearTimeout(this._overlayTimer),this._overlayTimer=0)},i}(e.Widget),m=function(t){function e(e){t.call(this,e),this.addClass(u)}return __extends(e,t),e}(e.SplitPanel)}(e=t.widgets||(t.widgets={}))}(phosphor||(phosphor={}));var phosphor;!function(t){var e;!function(e){var i=t.core.Signal,n=t.core.emit,r=function(){function t(t){this._text="",this._mnemonic="",this._shortcut="",this._className="",this._enabled=!0,this._visible=!0,this._type="normal",this._checked=!1,this._submenu=null,t&&this._initFrom(t)}return Object.defineProperty(t.prototype,"type",{get:function(){return this._type},set:function(e){if(e!==this._type){if("normal"!==e&&"check"!==e&&"separator"!==e)throw new Error("invalid menu item type: "+e);this._type=e,this._checked=!1,n(this,t.changed,void 0)}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this._text},set:function(e){e!==this._text&&(this._text=e,n(this,t.changed,void 0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mnemonic",{get:function(){return this._mnemonic},set:function(e){e===this._mnemonic||e.length>1||(this._mnemonic=e,n(this,t.changed,void 0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"shortcut",{get:function(){return this._shortcut},set:function(e){e!==this._shortcut&&(this._shortcut=e,n(this,t.changed,void 0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"enabled",{get:function(){return this._enabled},set:function(e){e!==this._enabled&&(this._enabled=e,n(this,t.changed,void 0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"visible",{get:function(){return this._visible},set:function(e){e!==this._visible&&(this._visible=e,n(this,t.changed,void 0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"checked",{get:function(){return this._checked},set:function(e){"check"===this._type&&e!==this._checked&&(this._checked=e,n(this,t.changed,void 0),n(this,t.toggled,e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"submenu",{get:function(){return this._submenu},set:function(e){e!==this._submenu&&(this._submenu=e,n(this,t.changed,void 0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return this._className},set:function(e){e!==this._className&&(this._className=e,n(this,t.changed,void 0))},enumerable:!0,configurable:!0}),t.prototype.trigger=function(){"check"===this._type&&(this.checked=!this.checked),n(this,t.triggered,this.checked)},t.prototype._initFrom=function(t){void 0!==t.type&&(this.type=t.type),void 0!==t.text&&(this._text=t.text),void 0!==t.mnemonic&&(this.mnemonic=t.mnemonic),void 0!==t.shortcut&&(this._shortcut=t.shortcut),void 0!==t.enabled&&(this._enabled=t.enabled),void 0!==t.visible&&(this._visible=t.visible),void 0!==t.checked&&(this.checked=t.checked),void 0!==t.submenu&&(this._submenu=t.submenu),void 0!==t.className&&(this._className=t.className)},t.changed=new i,t.toggled=new i,t.triggered=new i,t}();e.MenuItem=r}(e=t.widgets||(t.widgets={}))}(phosphor||(phosphor={}));var __extends=this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);i.prototype=e.prototype,t.prototype=new i},phosphor;!function(t){var e;!function(e){function i(t){return t&&"separator"!==t.type&&t.visible}function n(t){return i(t)}function r(t){return n(t)&&t.enabled}function o(t,e,i){var n=t.node,r=n.style;r.top="",r.left="",r.width="",r.height="",r.visibility="hidden",document.body.appendChild(t.node);var o=n.getBoundingClientRect(),s=Math.ceil(o.width),a=Math.ceil(o.height),h=e.height-i;return a>h&&(a=h,s+=17),new _(s,a)}function s(t,e,i,n,r){var o=t.node.style;o.top=Math.max(0,i)+"px",o.left=Math.max(0,e)+"px",o.width=n+"px",o.height=r+"px",o.visibility=""}function a(t,e,i,n,r){var a=v(),h=o(t,a,r?i:0);!n&&e+h.width>a.right&&(e=a.right-h.width),!r&&i+h.height>a.bottom&&(i>a.bottom?i=a.bottom-h.height:i-=h.height),s(t,e,i,h.width,h.height)}function h(t,e){var i=v(),n=o(t,i,0),r=m(t.node),a=e.getBoundingClientRect(),h=a.right-L,c=a.top-r.borderTop-r.paddingTop;h+n.width>i.right&&(h=a.left+L-n.width),c+n.height>i.bottom&&(c=a.bottom+r.borderBottom+r.paddingBottom-n.height),s(t,h,c,n.width,n.height)}var c=t.collections.algorithm,u=t.core.NodeBase,p=t.core.Signal,d=t.core.connect,l=t.core.disconnect,f=t.core.emit,_=t.utility.Size,v=t.utility.clientViewportRect,m=t.utility.createBoxSizing,y=t.utility.hitTest,g="p-Menu",b="p-Menu-content",x="p-Menu-item",w="p-Menu-item-icon",z="p-Menu-item-text",S="p-Menu-item-shortcut",M="p-Menu-item-submenu-icon",P="p-mod-check-type",O="p-mod-separator-type",I="p-mod-active",C="p-mod-disabled",k="p-mod-hidden",T="p-mod-force-hidden",A="p-mod-checked",W="p-mod-has-submenu",j=300,F=300,L=3,H=function(t){function o(e){var i=this;t.call(this),this._openTimer=0,this._closeTimer=0,this._activeIndex=-1,this._parentMenu=null,this._childMenu=null,this._childItem=null,this._items=[],this._nodes=[],this.addClass(g),e&&e.forEach(function(t){return i.addItem(t)})}return __extends(o,t),o.createNode=function(){var t=document.createElement("div"),e=document.createElement("ul");return e.className=b,t.appendChild(e),t},o.rootMenu=function(t){for(;t._parentMenu;)t=t._parentMenu;return t},o.leafMenu=function(t){
for(;t._childMenu;)t=t._childMenu;return t},o.prototype.dispose=function(){this.close(),l(this,null,null,null),l(null,null,this,null),this._items=null,this._nodes=null,t.prototype.dispose.call(this)},Object.defineProperty(o.prototype,"parentMenu",{get:function(){return this._parentMenu},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"childMenu",{get:function(){return this._childMenu},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"activeIndex",{get:function(){return this._activeIndex},set:function(t){var e=n(this._items[t]);this._setActiveIndex(e?t:-1)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"activeItem",{get:function(){return this._items[this._activeIndex]},set:function(t){this.activeIndex=this.indexOf(t)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"count",{get:function(){return this._items.length},enumerable:!0,configurable:!0}),o.prototype.itemAt=function(t){return this._items[t]},o.prototype.indexOf=function(t){return c.indexOf(this._items,t)},o.prototype.addItem=function(t){return this.insertItem(this.count,t)},o.prototype.insertItem=function(t,i){this.removeItem(i),-1!==this._activeIndex&&this._reset();var n=this.createItemNode(i);return t=c.insert(this._items,t,i),c.insert(this._nodes,t,n),d(i,e.MenuItem.changed,this,this._p_changed),n.addEventListener("mouseenter",this),this.insertItemNode(t,n),this._collapseSeparators(),t},o.prototype.removeAt=function(t){-1!==this._activeIndex&&this._reset();var i=c.removeAt(this._items,t),n=c.removeAt(this._nodes,t);return i&&l(i,e.MenuItem.changed,this,this._p_changed),n&&(n.removeEventListener("mouseenter",this),this.removeItemNode(n)),this._collapseSeparators(),i},o.prototype.removeItem=function(t){var e=this.indexOf(t);return-1!==e&&this.removeAt(e),e},o.prototype.clearItems=function(){for(;this.count;)this.removeAt(this.count-1)},o.prototype.activateNextItem=function(){var t=this._activeIndex+1,e=c.findIndex(this._items,n,t,!0);this._setActiveIndex(e)},o.prototype.activatePreviousItem=function(){var t=Math.max(-1,this._activeIndex-1),e=c.findLastIndex(this._items,n,t,!0);this._setActiveIndex(e)},o.prototype.activateMnemonicItem=function(t){t=t.toUpperCase();var e=c.findIndex(this._items,function(e){return r(e)&&e.mnemonic.toUpperCase()===t},this._activeIndex+1,!0);this._setActiveIndex(e)},o.prototype.openActiveItem=function(){var t=this._activeIndex,e=this._items[t];return e&&e.submenu&&e.enabled?(this._openChildMenu(e,this._nodes[t],!1),this._childMenu.activateNextItem(),!0):!1},o.prototype.triggerActiveItem=function(){var t=this._activeIndex,e=this._items[t];return e&&e.enabled?(e.submenu?(this._openChildMenu(e,this._nodes[t],!1),this._childMenu.activateNextItem()):(o.rootMenu(this).close(),e.trigger()),!0):!1},o.prototype.popup=function(t,e,i,n){void 0===i&&(i=!1),void 0===n&&(n=!1);var r=this.node;r.parentNode||(r.addEventListener("mouseup",this),r.addEventListener("mouseleave",this),r.addEventListener("contextmenu",this),document.addEventListener("keydown",this,!0),document.addEventListener("keypress",this,!0),document.addEventListener("mousedown",this,!0),a(this,t,e,i,n))},o.prototype.open=function(t,e,i,n){void 0===i&&(i=!1),void 0===n&&(n=!1);var r=this.node;r.parentNode||(r.addEventListener("mouseup",this),r.addEventListener("mouseleave",this),r.addEventListener("contextmenu",this),a(this,t,e,i,n))},o.prototype.close=function(){var t=this.node;t.parentNode&&(t.parentNode.removeChild(t),t.removeEventListener("mouseup",this),t.removeEventListener("mouseleave",this),t.removeEventListener("contextmenu",this),document.removeEventListener("keydown",this,!0),document.removeEventListener("keypress",this,!0),document.removeEventListener("mousedown",this,!0),this._reset(),this._removeFromParent(),f(this,o.closed,void 0))},o.prototype.handleEvent=function(t){switch(t.type){case"mouseenter":this._evtMouseEnter(t);break;case"mouseleave":this._evtMouseLeave(t);break;case"mousedown":this._evtMouseDown(t);break;case"mouseup":this._evtMouseUp(t);break;case"contextmenu":this._evtContextMenu(t);break;case"keydown":this._evtKeyDown(t);break;case"keypress":this._evtKeyPress(t)}},o.prototype.createItemNode=function(t){var e=document.createElement("li"),i=document.createElement("span"),n=document.createElement("span"),r=document.createElement("span"),o=document.createElement("span");return i.className=w,n.className=z,r.className=S,o.className=M,e.appendChild(i),e.appendChild(n),e.appendChild(r),e.appendChild(o),this.initItemNode(t,e),e},o.prototype.initItemNode=function(t,e){var i=[x];t.className&&i.push(t.className),"check"===t.type?i.push(P):"separator"===t.type&&i.push(O),t.checked&&i.push(A),t.enabled||i.push(C),t.visible||i.push(k),t.submenu&&i.push(W),e.className=i.join(" "),e.children[1].textContent=t.text,e.children[2].textContent=t.shortcut},o.prototype.insertItemNode=function(t,e){var i=this.node.firstChild;i.insertBefore(e,i.childNodes[t])},o.prototype.removeItemNode=function(t){var e=this.node.firstChild;e.removeChild(t)},o.prototype._evtMouseEnter=function(t){this._syncAncestors(),this._closeChildMenu(),this._cancelPendingOpen();var e=t.currentTarget,i=c.indexOf(this._nodes,e);if(-1===i)return void this._setActiveIndex(-1);var n=this._items[i];return"separator"===n.type?void this._setActiveIndex(-1):(this._setActiveIndex(i),void(n.submenu&&n.enabled&&(n===this._childItem?this._cancelPendingClose():this._openChildMenu(n,e,!0))))},o.prototype._evtMouseLeave=function(t){this._cancelPendingOpen();var e=this._childMenu;e&&y(e.node,t.clientX,t.clientY)||(this._setActiveIndex(-1),this._closeChildMenu())},o.prototype._evtMouseUp=function(t){if(t.preventDefault(),t.stopPropagation(),0===t.button){var e=t.clientX,i=t.clientY,n=c.findIndex(this._nodes,function(t){return y(t,e,i)});n===this._activeIndex&&this.triggerActiveItem()}},o.prototype._evtContextMenu=function(t){t.preventDefault(),t.stopPropagation()},o.prototype._evtMouseDown=function(t){for(var e=this,i=!1,n=t.clientX,r=t.clientY;!i&&e;)i=y(e.node,n,r),e=e._childMenu;i||this.close()},o.prototype._evtKeyDown=function(t){t.stopPropagation();var e=o.leafMenu(this);switch(t.keyCode){case 13:t.preventDefault(),e.triggerActiveItem();break;case 27:t.preventDefault(),e.close();break;case 37:t.preventDefault(),e!==this&&e.close();break;case 38:t.preventDefault(),e.activatePreviousItem();break;case 39:t.preventDefault(),e.openActiveItem();break;case 40:t.preventDefault(),e.activateNextItem()}},o.prototype._evtKeyPress=function(t){t.preventDefault(),t.stopPropagation();var e=String.fromCharCode(t.charCode);o.leafMenu(this).activateMnemonicItem(e)},o.prototype._setActiveIndex=function(t){var e=this._nodes[this._activeIndex],i=this._nodes[t];this._activeIndex=t,e!==i&&(e&&e.classList.remove(I),i&&i.classList.add(I))},o.prototype._syncAncestors=function(){for(var t=this._parentMenu;t;)t._cancelPendingOpen(),t._cancelPendingClose(),t._syncChildItem(),t=t._parentMenu},o.prototype._syncChildItem=function(){var t=this.indexOf(this._childItem);-1!==t&&this._setActiveIndex(t)},o.prototype._openChildMenu=function(t,e,i){var n=this;if(t!==this._childItem)if(this._cancelPendingOpen(),i)this._openTimer=setTimeout(function(){var i=t.submenu;n._openTimer=0,n._childItem=t,n._childMenu=i,i._parentMenu=n,i._openAsSubmenu(e)},j);else{var r=t.submenu;this._childItem=t,this._childMenu=r,r._parentMenu=this,r._openAsSubmenu(e)}},o.prototype._openAsSubmenu=function(t){var e=this.node;e.addEventListener("mouseup",this),e.addEventListener("mouseleave",this),e.addEventListener("contextmenu",this),h(this,t)},o.prototype._closeChildMenu=function(){var t=this;!this._closeTimer&&this._childMenu&&(this._closeTimer=setTimeout(function(){t._closeTimer=0,t._childMenu&&(t._childMenu.close(),t._childMenu=null,t._childItem=null)},F))},o.prototype._reset=function(){this._cancelPendingOpen(),this._cancelPendingClose(),this._setActiveIndex(-1),this._childMenu&&(this._childMenu.close(),this._childMenu=null,this._childItem=null)},o.prototype._removeFromParent=function(){var t=this._parentMenu;t&&(this._parentMenu=null,t._cancelPendingOpen(),t._cancelPendingClose(),t._childMenu=null,t._childItem=null)},o.prototype._cancelPendingOpen=function(){this._openTimer&&(clearTimeout(this._openTimer),this._openTimer=0)},o.prototype._cancelPendingClose=function(){this._closeTimer&&(clearTimeout(this._closeTimer),this._closeTimer=0)},o.prototype._collapseSeparators=function(){for(var t=this._items,e=this._nodes,n=!0,r=c.findLastIndex(t,i),o=0,s=t.length;s>o;++o){var a=t[o];"separator"===a.type?n||o>r?e[o].classList.add(T):a.visible&&(e[o].classList.remove(T),n=!0):a.visible&&(n=!1)}},o.prototype._p_changed=function(t){var e=this.indexOf(t);-1!==e&&(e===this._activeIndex&&this._reset(),this.initItemNode(t,this._nodes[e]),this._collapseSeparators())},o.closed=new p,o}(u);e.Menu=H}(e=t.widgets||(t.widgets={}))}(phosphor||(phosphor={}));var __extends=this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);i.prototype=e.prototype,t.prototype=new i},phosphor;!function(t){var e;!function(e){function i(t){return t&&"separator"!==t.type&&t.visible}function n(t){return i(t)&&t.enabled}function r(t,e,i){for(;t;){if(c(t.node,e,i))return!0;t=t.childMenu}return!1}var o=t.collections.algorithm,s=t.core.connect,a=t.core.disconnect,h=t.utility.Size,c=t.utility.hitTest,u="p-MenuBar",p="p-MenuBar-content",d="p-MenuBar-menu",l="p-MenuBar-item",f="p-MenuBar-item-icon",_="p-MenuBar-item-text",v="p-mod-separator-type",m="p-mod-active",y="p-mod-selected",g="p-mod-disabled",b="p-mod-hidden",x="p-mod-force-hidden",w=function(t){function w(e){var i=this;t.call(this),this._activeIndex=-1,this._childMenu=null,this._items=[],this._nodes=[],this._state=0,this.addClass(u),this.verticalSizePolicy=0,this.setFlag(16),e&&e.forEach(function(t){return i.addItem(t)})}return __extends(w,t),w.createNode=function(){var t=document.createElement("div"),e=document.createElement("ul");return e.className=p,t.appendChild(e),t},w.prototype.dispose=function(){this._closeChildMenu(),this._items=null,this._nodes=null,t.prototype.dispose.call(this)},Object.defineProperty(w.prototype,"childMenu",{get:function(){return this._childMenu},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"activeIndex",{get:function(){return this._activeIndex},set:function(t){var e=n(this._items[t]);this._setActiveIndex(e?t:-1)},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"activeItem",{get:function(){return this._items[this._activeIndex]},set:function(t){this.activeIndex=this.indexOf(t)},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"count",{get:function(){return this._items.length},enumerable:!0,configurable:!0}),w.prototype.itemAt=function(t){return this._items[t]},w.prototype.indexOf=function(t){return o.indexOf(this._items,t)},w.prototype.addItem=function(t){return this.insertItem(this.count,t)},w.prototype.insertItem=function(t,i){this.removeItem(i),-1!==this._activeIndex&&(this._setState(0),this._setActiveIndex(-1));var n=this.createItemNode(i);return t=o.insert(this._items,t,i),o.insert(this._nodes,t,n),s(i,e.MenuItem.changed,this,this._p_changed),this.insertItemNode(t,n),this._collapseSeparators(),t},w.prototype.removeAt=function(t){-1!==this._activeIndex&&(this._setState(0),this._setActiveIndex(-1));var i=o.removeAt(this._items,t),n=o.removeAt(this._nodes,t);return i&&a(i,e.MenuItem.changed,this,this._p_changed),n&&this.removeItemNode(n),this._collapseSeparators(),i},w.prototype.removeItem=function(t){var e=this.indexOf(t);return-1!==e&&this.removeAt(e),e},w.prototype.clearItems=function(){for(;this.count;)this.removeAt(this.count-1)},w.prototype.activateNextItem=function(){var t=this._activeIndex+1,e=o.findIndex(this._items,n,t,!0);this._setActiveIndex(e);var i=this._childMenu;i&&i.activateNextItem()},w.prototype.activatePreviousItem=function(){var t=Math.max(-1,this._activeIndex-1),e=o.findLastIndex(this._items,n,t,!0);this._setActiveIndex(e);var i=this._childMenu;i&&i.activateNextItem()},w.prototype.activateMnemonicItem=function(t){t=t.toUpperCase();var e=o.findIndex(this._items,function(e){return n(e)&&e.mnemonic.toUpperCase()===t},this._activeIndex+1,!0);this._setActiveIndex(e);var i=this._childMenu;i&&i.activateNextItem()},w.prototype.openActiveItem=function(){var t=this._activeIndex,e=this._items[t];if(!e)return!1;this._setState(1),this._setActiveIndex(t);var i=this._childMenu;return i&&i.activateNextItem(),!0},w.prototype.sizeHint=function(){return this.minSizeHint()},w.prototype.minSizeHint=function(){return new h(0,this.boxSizing.minHeight)},w.prototype.handleEvent=function(t){switch(t.type){case"mousedown":this._evtMouseDown(t);break;case"mousemove":this._evtMouseMove(t);break;case"mouseleave":this._evtMouseLeave(t);break;case"keydown":this._evtKeyDown(t);break;case"keypress":this._evtKeyPress(t)}},w.prototype.createItemNode=function(t){var e=document.createElement("li"),i=document.createElement("span"),n=document.createElement("span");return i.className=f,n.className=_,e.appendChild(i),e.appendChild(n),this.initItemNode(t,e),e},w.prototype.initItemNode=function(t,e){var i=[l];t.className&&i.push(t.className),"separator"===t.type&&i.push(v),t.enabled||i.push(g),t.visible||i.push(b),e.className=i.join(" "),e.children[1].textContent=t.text},w.prototype.insertItemNode=function(t,e){var i=this.node.firstChild;i.insertBefore(e,i.childNodes[t])},w.prototype.removeItemNode=function(t){var e=this.node.firstChild;e.removeChild(t)},w.prototype.onAfterAttach=function(t){this.node.addEventListener("mousedown",this),this.node.addEventListener("mousemove",this),this.node.addEventListener("mouseleave",this)},w.prototype.onAfterDetach=function(t){this.node.removeEventListener("mousedown",this),this.node.removeEventListener("mousemove",this),this.node.removeEventListener("mouseleave",this)},w.prototype._evtMouseDown=function(t){var e=t.clientX,i=t.clientY;if(0===this._state){if(0!==t.button)return;var s=o.findIndex(this._nodes,function(t){return c(t,e,i)});if(!n(this._items[s]))return;this._setState(1),this._setActiveIndex(s)}else{if(r(this._childMenu,e,i))return;this._setState(0);var s=o.findIndex(this._nodes,function(t){return c(t,e,i)}),a=n(this._items[s]);this._setActiveIndex(a?s:-1)}},w.prototype._evtMouseMove=function(t){var e=t.clientX,i=t.clientY,r=o.findIndex(this._nodes,function(t){return c(t,e,i)});if(r!==this._activeIndex&&(-1!==r||1!==this._state)){var s=n(this._items[r]);this._setActiveIndex(s?r:-1)}},w.prototype._evtMouseLeave=function(t){0===this._state&&this._setActiveIndex(-1)},w.prototype._evtKeyDown=function(t){t.stopPropagation();var i=this._childMenu,n=i&&e.Menu.leafMenu(i);switch(t.keyCode){case 13:t.preventDefault(),n&&n.triggerActiveItem();break;case 27:t.preventDefault(),n&&n!==i?n.close():(this._setState(0),this._setActiveIndex(-1));break;case 37:t.preventDefault(),n&&n!==i?n.close():this.activatePreviousItem();break;case 38:t.preventDefault(),n&&n.activatePreviousItem();break;case 39:t.preventDefault(),n&&n.openActiveItem()||this.activateNextItem();break;case 40:t.preventDefault(),n&&n.activateNextItem()}},w.prototype._evtKeyPress=function(t){t.preventDefault(),t.stopPropagation();var i=String.fromCharCode(t.charCode);this._childMenu?e.Menu.leafMenu(this._childMenu).activateMnemonicItem(i):this.activateMnemonicItem(i)},w.prototype._setActiveIndex=function(t){var e=this._nodes[this._activeIndex],i=this._nodes[t];if(this._activeIndex=t,e&&(e.classList.remove(m),e.classList.remove(y)),i&&i.classList.add(m),i&&0!==this._state&&i.classList.add(y),this._closeChildMenu(),i&&1===this._state){var n=this._items[t];n.submenu&&this._openChildMenu(n.submenu,i)}},w.prototype._openChildMenu=function(t,i){var n=i.getBoundingClientRect();this._childMenu=t,t.addClass(d),t.open(n.left,n.bottom,!1,!0),s(t,e.Menu.closed,this,this._p_closed)},w.prototype._closeChildMenu=function(){this._childMenu&&(a(this._childMenu,e.Menu.closed,this,this._p_closed),this._childMenu.removeClass(d),this._childMenu.close(),this._childMenu=null)},w.prototype._setState=function(t){t!==this._state&&(0===t?this._useInactiveListeners():this._useActiveListeners(),this._state=t)},w.prototype._useInactiveListeners=function(){var t=this;setTimeout(function(){t.node.addEventListener("mousedown",t),document.removeEventListener("mousedown",t,!0),document.removeEventListener("keydown",t,!0),document.removeEventListener("keypress",t,!0)},0)},w.prototype._useActiveListeners=function(){var t=this;setTimeout(function(){t.node.removeEventListener("mousedown",t),document.addEventListener("mousedown",t,!0),document.addEventListener("keydown",t,!0),document.addEventListener("keypress",t,!0)},0)},w.prototype._collapseSeparators=function(){for(var t=this._items,e=this._nodes,n=!0,r=o.findLastIndex(t,i),s=0,a=t.length;a>s;++s){var h=t[s];"separator"===h.type?n||s>r?e[s].classList.add(x):h.visible&&(e[s].classList.remove(x),n=!0):h.visible&&(n=!1)}},w.prototype._p_closed=function(t){a(t,e.Menu.closed,this,this._p_closed),t.removeClass(d),this._childMenu=null,this._setState(0),this._setActiveIndex(-1)},w.prototype._p_changed=function(t){var e=this.indexOf(t);-1!==e&&(e===this._activeIndex&&(this._setState(0),this._setActiveIndex(-1)),this.initItemNode(t,this._nodes[e]),this._collapseSeparators())},w}(e.Widget);e.MenuBar=w;var z;!function(t){t[t.Inactive=0]="Inactive",t[t.Active=1]="Active"}(z||(z={}))}(e=t.widgets||(t.widgets={}))}(phosphor||(phosphor={}));var __extends=this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);i.prototype=e.prototype,t.prototype=new i},phosphor;!function(t){var e;!function(e){var i=t.core.Message,n=t.core.sendMessage,r=t.utility.emptyObject,o=t.virtualdom.render,s="p-RenderWidget",a=new i("before-render"),h=new i("after-render"),c=function(t){function e(){t.call(this),this._refs=r,this.addClass(s),this.setFlag(16)}return __extends(e,t),e.prototype.dispose=function(){this._refs=null,t.prototype.dispose.call(this)},Object.defineProperty(e.prototype,"refs",{get:function(){return this._refs},enumerable:!0,configurable:!0}),e.prototype.processMessage=function(e){switch(e.type){case"before-render":this.onBeforeRender(e);break;case"after-render":this.onAfterRender(e);break;default:t.prototype.processMessage.call(this,e)}},e.prototype.render=function(){return null},e.prototype.onUpdateRequest=function(t){n(this,a),this._refs=o(this.render(),this.node),n(this,h)},e.prototype.onAfterAttach=function(t){this.update(!0)},e.prototype.onBeforeRender=function(t){},e.prototype.onAfterRender=function(t){},e}(e.Widget);e.RenderWidget=c}(e=t.widgets||(t.widgets={}))}(phosphor||(phosphor={}));var __extends=this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);i.prototype=e.prototype,t.prototype=new i},phosphor;!function(t){var e;!function(e){var i=t.core.Signal,n=t.core.emit,r=t.utility.Size,o=t.utility.overrideCursor,s="p-ScrollBar",a="p-ScrollBar-slider",h="p-mod-active",c="p-mod-horizontal",u="p-mod-vertical",p=function(t){function p(i){void 0===i&&(i=1),t.call(this),this._value=0,this._minimum=0,this._maximum=99,this._pageSize=1,this._sliderMinSize=-1,this._dragData=null,this.addClass(s),this._orientation=i,this.setFlag(16),0===i?(this.addClass(c),this.setSizePolicy(e.SizePolicy.Expanding,0)):(this.addClass(u),this.setSizePolicy(0,e.SizePolicy.Expanding))}return __extends(p,t),p.createNode=function(){var t=document.createElement("div"),e=document.createElement("div");return e.className=a,t.appendChild(e),t},Object.defineProperty(p.prototype,"orientation",{get:function(){return this._orientation},set:function(t){t!==this._orientation&&(this._sliderMinSize=-1,this._orientation=t,0===t?(this.removeClass(u),this.addClass(c),this.setSizePolicy(e.SizePolicy.Expanding,0)):(this.removeClass(c),this.addClass(u),this.setSizePolicy(0,e.SizePolicy.Expanding)),this.invalidateBoxSizing(),this.update())},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"minimum",{get:function(){return this._minimum},set:function(t){t!==this._minimum&&(this._minimum=t,this._maximum=Math.max(t,this._maximum),this._value=Math.max(t,Math.min(this._value,this._maximum)),this.update())},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"maximum",{get:function(){return this._maximum},set:function(t){t!==this._maximum&&(this._maximum=t,this._minimum=Math.min(this._minimum,t),this._value=Math.max(this._minimum,Math.min(this._value,t)),this.update())},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"value",{get:function(){return this._value},set:function(t){t=Math.max(this._minimum,Math.min(t,this._maximum)),t!==this._value&&(this._value=t,this.update())},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"pageSize",{get:function(){return this._pageSize},set:function(t){t=Math.max(0,t),t!==this._pageSize&&(this._pageSize=t,this.update())},enumerable:!0,configurable:!0}),p.prototype.sizeHint=function(){var t;return t=0===this._orientation?new r(0,this.boxSizing.minHeight):new r(this.boxSizing.minWidth,0)},p.prototype.handleEvent=function(t){switch(t.type){case"mousedown":this._evtMouseDown(t);break;case"mousemove":this._evtMouseMove(t);break;case"mouseup":this._evtMouseUp(t)}},p.prototype.onAfterAttach=function(t){this.node.addEventListener("mousedown",this),this._sliderMinSize=-1},p.prototype.onAfterDetach=function(t){this.node.removeEventListener("mousedown",this)},p.prototype.onResize=function(t){this.update(!0)},p.prototype.onUpdateRequest=function(t){var e=this.node.firstChild.style;if(this._minimum===this._maximum)return void(e.display="none");var i,n,r=this.boxSizing;0===this._orientation?(i=r.paddingLeft,n=this.width-r.horizontalSum):(i=r.paddingTop,n=this.height-r.verticalSum);var o=this._getSliderMinSize(),s=this._maximum-this._minimum,a=Math.max(o,this._pageSize/s*n),h=this._value/s*(n-a);return a+h>n&&(h=n-a),0>h?void(e.display="none"):(e.display="",void(0===this._orientation?(e.top="",e.left=i+h+"px",e.width=a+"px",e.height=""):(e.top=i+h+"px",e.left="",e.width="",e.height=a+"px")))},p.prototype._evtMouseDown=function(t){if(0===t.button){t.preventDefault(),t.stopPropagation();var e,i,n,r,s,a=this.boxSizing,c=this.node.getBoundingClientRect(),u=this.node.firstChild,p=u.getBoundingClientRect();if(0===this._orientation?(e=t.clientX-c.left-a.paddingLeft,i=this.width-a.horizontalSum,n=p.left-c.left-a.paddingLeft,r=p.right-c.left-a.paddingLeft,s=p.width):(e=t.clientY-c.top-a.paddingTop,i=this.height-a.verticalSum,n=p.top-c.top-a.paddingTop,r=p.bottom-c.top-a.paddingTop,s=p.height),t.shiftKey&&(n>e||e>=r)){var d=(e-s/2)/(i-s);return void this._scrollTo(d*(this._maximum-this._minimum))}if(n>e)return void this._scrollTo(this._value-this._pageSize);if(e>=r)return void this._scrollTo(this._value+this._pageSize);this.addClass(h);var l=e-n,f=o("default");this._dragData={pressOffset:l,cursorGrab:f},document.addEventListener("mousemove",this,!0),document.addEventListener("mouseup",this,!0)}},p.prototype._evtMouseMove=function(t){var e,i,n,r=this.boxSizing,o=this.node.getBoundingClientRect(),s=this.node.firstChild,a=s.getBoundingClientRect();0===this._orientation?(e=t.clientX-o.left-r.paddingLeft,i=this.width-r.horizontalSum,n=a.width):(e=t.clientY-o.top-r.paddingTop,i=this.height-r.verticalSum,n=a.height);var h=this._dragData.pressOffset,c=(e-h)/(i-n);this._scrollTo(c*(this._maximum-this._minimum))},p.prototype._evtMouseUp=function(t){0===t.button&&(t.preventDefault(),t.stopPropagation(),document.removeEventListener("mousemove",this,!0),document.removeEventListener("mouseup",this,!0),this.removeClass(h),this._dragData&&(this._dragData.cursorGrab.dispose(),this._dragData=null))},p.prototype._scrollTo=function(t){t=Math.max(this._minimum,Math.min(t,this._maximum)),t!==this._value&&(this._value=t,this.update(!0),n(this,p.sliderMoved,t))},p.prototype._getSliderMinSize=function(){if(-1===this._sliderMinSize){var t=window.getComputedStyle(this.node.firstChild);this._sliderMinSize=0===this._orientation?parseInt(t.minWidth,10)||0:parseInt(t.minHeight,10)||0}return this._sliderMinSize},p.sliderMoved=new i,p}(e.Widget);e.ScrollBar=p}(e=t.widgets||(t.widgets={}))}(phosphor||(phosphor={}));var __extends=this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);i.prototype=e.prototype,t.prototype=new i},phosphor;!function(t){var e;!function(e){var i=t.core.NodeBase,n="p-Tab",r="p-Tab-text",o="p-Tab-icon",s="p-Tab-close-icon",a="p-mod-selected",h="p-mod-closable",c=function(t){function e(e){t.call(this),this.addClass(n),e&&(this.text=e)}return __extends(e,t),e.createNode=function(){var t=document.createElement("li"),e=document.createElement("span"),i=document.createElement("span"),n=document.createElement("span");return e.className=o,i.className=r,n.className=s,t.appendChild(e),t.appendChild(i),t.appendChild(n),t},Object.defineProperty(e.prototype,"text",{get:function(){return this.node.children[1].textContent},set:function(t){this.node.children[1].textContent=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selected",{get:function(){return this.hasClass(a)},set:function(t){t?this.addClass(a):this.removeClass(a)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"closable",{get:function(){return this.hasClass(h)},set:function(t){t?this.addClass(h):this.removeClass(h)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"closeIconNode",{get:function(){return this.node.lastChild},enumerable:!0,configurable:!0}),e}(i);e.Tab=c}(e=t.widgets||(t.widgets={}))}(phosphor||(phosphor={}));var __extends=this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);i.prototype=e.prototype,t.prototype=new i},phosphor;!function(t){var e;!function(e){function i(t,e,i,n){return i<t.left-e?!1:i>=t.right+e?!1:n<t.top-e?!1:n>=t.bottom+e?!1:!0}function n(t,e){t&&e&&e.parentNode===t&&t.removeChild(e)}var r=t.collections.algorithm,o=t.core.Signal,s=t.core.emit,a=t.utility.Pair,h=t.utility.Size,c=t.utility.hitTest,u=t.utility.overrideCursor,p="p-TabBar",d="p-TabBar-header",l="p-TabBar-content",f="p-TabBar-footer",_="p-mod-transition",v="p-mod-inserting",m="p-mod-removing",y=.6,g=5,b=20,x=150,w=7,z=function(t){function e(e){t.call(this),this._tabWidth=175,this._tabOverlap=0,this._minTabWidth=45,this._tabs=[],this._tabsMovable=!0,this._currentTab=null,this._previousTab=null,this._dragData=null,this.addClass(p),this.verticalSizePolicy=0,this.setFlag(16),e&&this._initFrom(e)}return __extends(e,t),e.createNode=function(){var t=document.createElement("div"),e=document.createElement("div"),i=document.createElement("ul"),n=document.createElement("div");return e.className=d,i.className=l,n.className=f,t.appendChild(e),t.appendChild(i),t.appendChild(n),t},e.prototype.dispose=function(){this._releaseMouse(),this._previousTab=null,this._currentTab=null,this._tabs=null,t.prototype.dispose.call(this)},Object.defineProperty(e.prototype,"currentIndex",{get:function(){return this.indexOf(this.currentTab)},set:function(t){var i=this._currentTab,n=this.tabAt(t)||null;i!==n&&(i&&(i.selected=!1),n&&(n.selected=!0),this._currentTab=n,this._previousTab=i,this._updateTabZOrder(),s(this,e.currentChanged,new a(n?t:-1,n)))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentTab",{get:function(){return this._currentTab},set:function(t){this.currentIndex=this.indexOf(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"previousTab",{get:function(){return this._previousTab},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tabsMovable",{get:function(){return this._tabsMovable},set:function(t){t!==this._tabsMovable&&(this._tabsMovable=t,t||this._releaseMouse())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tabWidth",{get:function(){return this._tabWidth},set:function(t){t=Math.max(0,t),t!==this._tabWidth&&(this._tabWidth=t,this.isAttached&&(this.updateGeometry(),this.update()))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"minTabWidth",{get:function(){return this._minTabWidth},set:function(t){t=Math.max(0,t),t!==this._minTabWidth&&(this._minTabWidth=t,this.isAttached&&(this.updateGeometry(),this.update()))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tabOverlap",{get:function(){return this._tabOverlap},set:function(t){t!==this._tabOverlap&&(this._tabOverlap=t,this.isAttached&&(this.updateGeometry(),this.update()))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"count",{get:function(){return this._tabs.length},enumerable:!0,configurable:!0}),e.prototype.tabAt=function(t){return this._tabs[t]},e.prototype.indexOf=function(t){return r.indexOf(this._tabs,t)},e.prototype.addTab=function(t){return this.insertTab(this.count,t)},e.prototype.insertTab=function(t,e){var i=this.indexOf(e);return t=-1!==i?this._moveTab(i,t):this._insertTab(t,e,!0)},e.prototype.moveTab=function(t,e){return this._moveTab(t,e)},e.prototype.removeAt=function(t){return this._removeTab(t,!0)},e.prototype.removeTab=function(t){var e=this.indexOf(t);return-1!==e&&this._removeTab(e,!0),e},e.prototype.clearTabs=function(){for(;this.count;)this._removeTab(this.count-1,!1)},e.prototype.attachTab=function(t,e){if(-1===this.indexOf(t)){var i=this.contentNode,n=i.getBoundingClientRect(),r=e-n.left,o=r/(this._tabLayoutWidth()-this._tabOverlap);if(o=Math.max(0,Math.min(Math.round(o),this.count)),this._insertTab(o,t,!1),this.currentIndex=o,document.addEventListener("mouseup",this,!0),document.addEventListener("mousemove",this,!0),this._tabsMovable){var s=this._tabLayoutWidth(),a=.4*s|0,h=n.top+.5*n.height|0,c=u("default");this._dragData={node:t.node,pressX:e,pressY:h,offsetX:a,contentRect:n,cursorGrab:c,dragActive:!0,detachRequested:!1};var p=r-a,d=n.width-s,l=Math.max(0,Math.min(p,d)),f=t.node.style;i.classList.add(_),f.transition="none",f.left=l+"px",this.update(!0)}}},e.prototype.detachAt=function(t){return this._removeTab(t,!1)},e.prototype.sizeHint=function(){var t=0,e=this.count;return e>0&&(t=this._tabWidth*e-this._tabOverlap*(e-1)),new h(t,this.boxSizing.minHeight)},e.prototype.minSizeHint=function(){var t=0,e=this.count;return e>0&&(t=this._minTabWidth+w*(e-1)),new h(t,this.boxSizing.minHeight)},e.prototype.handleEvent=function(t){switch(t.type){case"click":this._evtClick(t);break;case"mousedown":this._evtMouseDown(t);break;case"mousemove":this._evtMouseMove(t);break;case"mouseup":this._evtMouseUp(t)}},Object.defineProperty(e.prototype,"contentNode",{get:function(){return this.node.firstChild.nextSibling},enumerable:!0,configurable:!0}),e.prototype.onAfterAttach=function(t){var e=this.node;e.addEventListener("mousedown",this),e.addEventListener("click",this)},e.prototype.onAfterDetach=function(t){var e=this.node;e.removeEventListener("mousedown",this),e.removeEventListener("click",this)},e.prototype.onResize=function(t){this.update(!0)},e.prototype.onUpdateRequest=function(t){var e=null;this._dragData&&this._dragData.dragActive&&(e=this._dragData.node);for(var i=0,n=this._tabs,r=this.width,o=this._tabOverlap,s=this._tabLayoutWidth(),a=0,h=n.length;h>a;++a){var c=n[a].node,u=c.style;if(c!==e){var p=s+w*(h-a-1);i+p>r&&(i=Math.max(0,r-p)),u.left=i+"px"}u.width=s+"px",i+=s-o}},e.prototype._evtClick=function(t){if(0===t.button){var i=this._hitTest(t.clientX,t.clientY);if(!(0>i)){t.preventDefault(),t.stopPropagation();var n=this._tabs[i];n.closable&&n.closeIconNode===t.target&&s(this,e.tabCloseRequested,new a(i,n))}}},e.prototype._evtMouseDown=function(t){if(0===t.button){var e=t.clientX,i=t.clientY,n=this._hitTest(e,i);if(!(0>n)){t.preventDefault(),t.stopPropagation();var r=this._tabs[n];if(r.closeIconNode!==t.target){if(this._tabsMovable){var o=e-r.node.getBoundingClientRect().left;this._dragData={node:r.node,pressX:e,pressY:i,offsetX:o,
contentRect:null,cursorGrab:null,dragActive:!1,detachRequested:!1}}this.currentIndex=n,document.addEventListener("mouseup",this,!0),document.addEventListener("mousemove",this,!0)}}}},e.prototype._evtMouseMove=function(t){if(t.preventDefault(),t.stopPropagation(),this._tabsMovable&&this._dragData){var n=t.clientX,r=t.clientY,o=this._dragData;if(!o.dragActive){var a=Math.abs(n-o.pressX),h=Math.abs(r-o.pressY);if(g>a&&g>h)return;var c=this.contentNode;o.contentRect=c.getBoundingClientRect(),o.cursorGrab=u("default"),o.dragActive=!0,c.classList.add(_),o.node.style.transition="none"}if(o.detachRequested||i(o.contentRect,b,n,r)||(o.detachRequested=!0,s(this,e.tabDetachRequested,{tab:this.currentTab,index:this.currentIndex,clientX:n,clientY:r}),this._dragData)){var p=this.currentIndex,d=this._tabLayoutWidth(),l=p*(d-this._tabOverlap),f=l-d*y,v=l+d*y,m=n-o.contentRect.left-o.offsetX,x=Math.max(0,Math.min(m,o.contentRect.width-d));f>x?this._moveTab(p,p-1):x>v&&this._moveTab(p,p+1),o.node.style.left=x+"px"}}},e.prototype._evtMouseUp=function(t){0===t.button&&(t.preventDefault(),t.stopPropagation(),this._releaseMouse())},e.prototype._releaseMouse=function(){var t=this,e=this._dragData;e&&(this._dragData=null,document.removeEventListener("mouseup",this,!0),document.removeEventListener("mousemove",this,!0),e.dragActive&&(e.cursorGrab.dispose(),e.node.style.transition="",this._withTransition(function(){return t.update(!0)})))},e.prototype._insertTab=function(t,e,i){var n=this;return t=r.insert(this._tabs,t,e),e.selected=!1,this.contentNode.appendChild(e.node),this._currentTab?this._updateTabZOrder():this.currentTab=e,this.isAttached?(i?this._withTransition(function(){e.addClass(v),n.update(!0)},function(){e.removeClass(v)}):this._withTransition(function(){return n.update(!0)}),this.updateGeometry(),t):t},e.prototype._moveTab=function(t,i){var n=this;return i=r.move(this._tabs,t,i),-1===i?-1:(this._updateTabZOrder(),s(this,e.tabMoved,new a(t,i)),this.isAttached?(this._withTransition(function(){return n.update(!0)}),i):i)},e.prototype._removeTab=function(t,i){var o=this,h=this._tabs,c=r.removeAt(h,t);if(!c)return void 0;if(this._releaseMouse(),c.selected=!1,c.node.style.zIndex="0",c===this._currentTab){var u=this._previousTab||h[t]||h[t-1];this._currentTab=null,this._previousTab=null,u?this.currentTab=u:s(this,e.currentChanged,new a(-1,void 0))}else c===this._previousTab?(this._previousTab=null,this._updateTabZOrder()):this._updateTabZOrder();var p=this.contentNode;return this.isAttached?(i?this._withTransition(function(){c.addClass(m),o.update(!0)},function(){c.removeClass(m),n(p,c.node)}):(n(p,c.node),this._withTransition(function(){return o.update(!0)})),this.updateGeometry(),c):(n(p,c.node),c)},e.prototype._hitTest=function(t,e){for(var i=this._tabs,n=0,r=i.length;r>n;++n)if(c(i[n].node,t,e))return n;return-1},e.prototype._tabLayoutWidth=function(){var t=this.count;if(0===t)return 0;var e=this._tabOverlap*(t-1),i=this._tabWidth*t-e;return this.width>=i?this._tabWidth:Math.max(this._minTabWidth,(this.width+e)/t)},e.prototype._updateTabZOrder=function(){for(var t=this._tabs,e=t.length-1,i=this._currentTab,n=0,r=t.length;r>n;++n){var o=t[n];o.node.style.zIndex=o===i?r+"":e--+""}},e.prototype._withTransition=function(t,e){var i=this,n=this.contentNode;n.classList.add(_),t&&t(),setTimeout(function(){i._dragData&&i._dragData.dragActive||n.classList.remove(_),e&&e()},x)},e.prototype._initFrom=function(t){void 0!==t.tabsMovable&&(this.tabsMovable=t.tabsMovable),void 0!==t.tabWidth&&(this.tabWidth=t.tabWidth),void 0!==t.minTabWidth&&(this.minTabWidth=t.minTabWidth),void 0!==t.tabOverlap&&(this.tabOverlap=t.tabOverlap)},e.tabMoved=new o,e.currentChanged=new o,e.tabCloseRequested=new o,e.tabDetachRequested=new o,e}(e.Widget);e.TabBar=z}(e=t.widgets||(t.widgets={}))}(phosphor||(phosphor={}));var __extends=this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);i.prototype=e.prototype,t.prototype=new i},phosphor;!function(t){var e;!function(e){var i=t.core.Signal,n=t.core.connect,r=t.core.emit,o=t.utility.Pair,s="p-TabPanel",a=function(t){function a(){t.call(this),this.addClass(s),this.layout=new e.BoxLayout(2,0),this.setFlag(16);var i=this._tabBar=new e.TabBar;n(i,e.TabBar.tabMoved,this,this._p_tabMoved),n(i,e.TabBar.currentChanged,this,this._p_currentChanged),n(i,e.TabBar.tabCloseRequested,this,this._p_tabCloseRequested);var r=this._stackedPanel=new e.StackedPanel;n(r,e.StackedPanel.widgetRemoved,this,this._p_widgetRemoved),this.layout.addWidget(i),this.layout.addWidget(r)}return __extends(a,t),a.prototype.dispose=function(){this._tabBar=null,this._stackedPanel=null,t.prototype.dispose.call(this)},Object.defineProperty(a.prototype,"currentIndex",{get:function(){return this._stackedPanel.currentIndex},set:function(t){this._tabBar.currentIndex=t},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"currentWidget",{get:function(){return this._stackedPanel.currentWidget},set:function(t){this._tabBar.currentIndex=this.indexOf(t)},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"tabsMovable",{get:function(){return this._tabBar.tabsMovable},set:function(t){this._tabBar.tabsMovable=t},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"tabBar",{get:function(){return this._tabBar},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"count",{get:function(){return this._stackedPanel.count},enumerable:!0,configurable:!0}),a.prototype.indexOf=function(t){return this._stackedPanel.indexOf(t)},a.prototype.widgetAt=function(t){return this._stackedPanel.widgetAt(t)},a.prototype.addWidget=function(t,e){return this.insertWidget(this.count,t,e)},a.prototype.insertWidget=function(t,e,i){return t=this._stackedPanel.insertWidget(t,e,i),this._tabBar.insertTab(t,e.tab)},a.prototype.moveWidget=function(t,e){return this._tabBar.moveTab(t,e)},a.prototype._p_tabMoved=function(t,e){this._stackedPanel.moveWidget(e.first,e.second)},a.prototype._p_currentChanged=function(t,e){this._stackedPanel.currentIndex=e.first;var i=this._stackedPanel.currentWidget;r(this,a.currentChanged,new o(e.first,i))},a.prototype._p_tabCloseRequested=function(t,e){this._stackedPanel.widgetAt(e.first).close()},a.prototype._p_widgetRemoved=function(t,e){this._tabBar.removeAt(e.first)},a.currentChanged=new i,a}(e.Widget);e.TabPanel=a}(e=t.widgets||(t.widgets={}))}(phosphor||(phosphor={}));var phosphor;!function(t){var e;!function(e){var i=t.di.Token;e.IPluginList=new i("phosphor.shell.IPluginList")}(e=t.shell||(t.shell={}))}(phosphor||(phosphor={}));var phosphor;!function(t){var e;!function(e){var i=t.di.Token;e.IShellView=new i("phosphor.shell.IShellView")}(e=t.shell||(t.shell={}))}(phosphor||(phosphor={}));var phosphor;!function(t){var e;!function(e){function i(t){s(t,c),r(t)}function n(t){a(t,c)}function r(t){t.setVisible(o(t))}function o(t){for(var e=0,i=t.childCount;i>e;++e)if(!t.childAt(e).isHidden)return!0;return!1}var s=t.core.installMessageFilter,a=t.core.removeMessageFilter;e.enableAutoHide=i,e.disableAutoHide=n;var h=function(){function t(){}return t.prototype.filterMessage=function(t,e){switch(e.type){case"child-added":case"child-removed":case"child-shown":case"child-hidden":r(t)}return!1},t}(),c=new h}(e=t.shell||(t.shell={}))}(phosphor||(phosphor={}));var phosphor;!function(t){var e;!function(e){var i=t.di.Container,n=t.di.IContainer,r=t.utility.createBoxSizing,o=function(){function t(){this._shell=null,this._container=null,this._pluginList=null}return Object.defineProperty(t.prototype,"container",{get:function(){return this._container},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pluginList",{get:function(){return this._pluginList},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"shell",{get:function(){return this._shell},enumerable:!0,configurable:!0}),t.prototype.run=function(){var t=this;this._container=this.createContainer(),this.configureContainer(),this._shell=this.createShell(),this.configureShell(),this._pluginList=this.createPluginList(),this.configurePlugins().then(function(){t.finalize()})["catch"](function(t){console.error("plugin initialization failed",t)})},t.prototype.createContainer=function(){return new i},t.prototype.createPluginList=function(){return this.container.resolve(e.IPluginList)},t.prototype.createShell=function(){return this.container.resolve(e.IShellView)},t.prototype.configureContainer=function(){var t=this.container;t.isRegistered(n)||t.registerInstance(n,t),t.isRegistered(e.IPluginList)||t.registerType(e.IPluginList,e.PluginList),t.isRegistered(e.IShellView)||t.registerType(e.IShellView,e.ShellView)},t.prototype.configurePlugins=function(){return Promise.resolve()},t.prototype.configureShell=function(){},t.prototype.finalize=function(){var t=this.shell,e=document.getElementById("main")||document.body,i=r(e),n=function(){return t.fit(void 0,void 0,i)};window.addEventListener("resize",n),t.attach(e),t.show(),n()},t}();e.Bootstrapper=o}(e=t.shell||(t.shell={}))}(phosphor||(phosphor={}));var phosphor;!function(t){var e;!function(e){function i(t,e){return t-e}var n=t.collections.algorithm,r=function(){function t(t){this._ranks=[],this._menu=t}return t.prototype.addItem=function(t,e){void 0===e&&(e=100),this.removeItem(t);var r=n.upperBound(this._ranks,e,i);n.insert(this._ranks,r,e),this._menu.insertItem(r,t)},t.prototype.removeItem=function(t){var e=this._menu.removeItem(t);-1!==e&&n.removeAt(this._ranks,e)},t}();e.MenuManager=r}(e=t.shell||(t.shell={}))}(phosphor||(phosphor={}));var phosphor;!function(t){var e;!function(e){var i=t.di.IContainer,n=function(){function t(t){this._plugins=[],this._container=t}return t.prototype.add=function(t){var e=this;return Promise.all(t).then(function(t){t.forEach(function(t){return e._addPlugin(t)})})},t.prototype.forEach=function(t){return this._plugins.forEach(function(e){return t(e)})},t.prototype._addPlugin=function(t){t.initialize(this._container),this._plugins.push(t)},t.$inject=[i],t}();e.PluginList=n}(e=t.shell||(t.shell={}))}(phosphor||(phosphor={}));var __extends=this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);i.prototype=e.prototype,t.prototype=new i},phosphor;!function(t){var e;!function(e){function i(t,e){return t.second-e}var n=t.collections.algorithm,r=t.utility.Pair,o=t.widgets.BoxLayout,s=t.widgets.Widget,a=(t.widgets.WidgetFlag,"p-ShellPanel"),h=function(t){function e(e){t.call(this),this._pairs=[],this.addClass(a),this.layout=new o(e,0),this.setFlag(16)}return __extends(e,t),e.prototype.dispose=function(){this._pairs=null,t.prototype.dispose.call(this)},e.prototype.addWidget=function(t,e){void 0===e&&(e={}),t.parent=null;var o=e.stretch,s=e.alignment,a=void 0!==e.rank?e.rank:100,h=n.upperBound(this._pairs,a,i);n.insert(this._pairs,h,new r(t,a)),this.layout.insertWidget(h,t,o,s)},e.prototype.onChildRemoved=function(e){t.prototype.onChildRemoved.call(this,e);var i=n.findIndex(this._pairs,function(t){return t.first===e.child});-1!==i&&n.removeAt(this._pairs,i)},e}(s);e.ShellPanel=h}(e=t.shell||(t.shell={}))}(phosphor||(phosphor={}));var __extends=this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);i.prototype=e.prototype,t.prototype=new i},phosphor;!function(t){var e;!function(e){var i=t.widgets.BoxLayout,n=(t.widgets.Direction,t.widgets.MenuBar),r=(t.widgets.Orientation,t.widgets.SizePolicy,t.widgets.SplitPanel),o=t.widgets.Widget,s=(t.widgets.WidgetFlag,"p-ShellView"),a="p-mod-top",h="p-mod-left",c="p-mod-right",u="p-mod-bottom",p="p-mod-center",d=function(t){function o(){t.call(this),this.addClass(s),this._menuBar=new n,this._topPanel=new e.ShellPanel(2),this._leftPanel=new e.ShellPanel(0),this._rightPanel=new e.ShellPanel(1),this._bottomPanel=new e.ShellPanel(3),this._centerPanel=new e.ShellPanel(2),this._menuManager=new e.MenuManager(this._menuBar),this._topPanel.addClass(a),this._leftPanel.addClass(h),this._rightPanel.addClass(c),this._bottomPanel.addClass(u),this._centerPanel.addClass(p),this._menuBar.hide(),this._topPanel.verticalSizePolicy=0,e.enableAutoHide(this._topPanel),e.enableAutoHide(this._leftPanel),e.enableAutoHide(this._rightPanel),e.enableAutoHide(this._bottomPanel);var o=new r(0),d=new r(1);o.handleSize=0,d.handleSize=0,o.addWidget(this._leftPanel),o.addWidget(this._centerPanel,1),o.addWidget(this._rightPanel),d.addWidget(o,1),d.addWidget(this._bottomPanel);var l=new i(2,0);l.addWidget(this._menuBar),l.addWidget(this._topPanel),l.addWidget(d,1),this.layout=l,this.setFlag(16)}return __extends(o,t),o.prototype.areas=function(){return["top","left","right","bottom","center"]},o.prototype.addWidget=function(t,e,i){switch(t){case"top":this._topPanel.addWidget(e,i);break;case"left":this._leftPanel.addWidget(e,i);break;case"right":this._rightPanel.addWidget(e,i);break;case"bottom":this._bottomPanel.addWidget(e,i);break;case"center":this._centerPanel.addWidget(e,i);break;default:throw new Error("invalid content area: "+t)}},o.prototype.addMenuItem=function(t,e){this._menuManager.addItem(t,e),this._menuBar.setVisible(this._menuBar.count>0)},o.prototype.removeMenuItem=function(t){this._menuManager.removeItem(t),this._menuBar.setVisible(this._menuBar.count>0)},o}(o);e.ShellView=d}(e=t.shell||(t.shell={}))}(phosphor||(phosphor={}));